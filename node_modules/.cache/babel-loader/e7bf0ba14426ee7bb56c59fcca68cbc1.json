{"ast":null,"code":"var _jsxFileName = \"/Users/milenmladenov/asset-management-fe-1/src/pages/SingleOrder.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button, TableContainer, Table, TableHeader, TableCell, TableRow, TableBody } from '@windmill/react-ui';\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport labelsFile from \"../assets/xlxs/за етикети.xlsx\";\nimport { saveAs } from \"file-saver\"; // Import saveAs function\nimport ExcelJS from 'exceljs';\nimport { config } from '../Constants';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nconst SingleOrder = _ref => {\n  let {\n    match\n  } = _ref;\n  const apiBaseUrl = config.url.API_BASE_URL;\n  const [order, setOrder] = useState(null);\n  const orderId = match.params.id; // Get the orderId from the route parameter\n  const token = localStorage.getItem('accessToken');\n  const loggedUser = JSON.parse(localStorage.getItem('user'));\n  const formatDateWithoutDashes = dateString => {\n    const date = new Date(dateString);\n    const options = {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    };\n    return date.toLocaleDateString('en-US', options).replace(/\\//g, ''); // Remove slashes\n  };\n\n  const getStatusColor = status => {\n    switch (status) {\n      case \"WORKING_ON\":\n        return \"text-yellow-500\";\n      // Yellow color\n      case \"CREATED\":\n        return \"text-gray-500\";\n      case \"SEND\":\n        return \"text-blue-500\";\n      case \"DONE\":\n        return \"text-green-500\";\n        return \"\";\n    }\n  };\n  const captureScreenshotAndConvertToPDF = () => {\n    // Select the component or container to capture\n    const componentToCapture = document.getElementById('singleOrderComponent');\n\n    // Use html2canvas to capture the component as an image\n    html2canvas(componentToCapture).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n\n      // Create a new jsPDF instance\n      const pdf = new jsPDF('p', 'mm', 'a4'); // Landscape orientation\n\n      // Add the captured image to the PDF\n      pdf.addImage(imgData, 'PNG', 0, 0, 200, 200); // Adjust width and height as needed\n\n      // Save the PDF\n      pdf.save('single_order.pdf');\n    });\n  };\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const config = {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        };\n        const response = await axios.get(apiBaseUrl + `/api/orders/${orderId}`, config);\n        setOrder(response.data);\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      }\n    };\n    fetchOrder();\n  }, [orderId]);\n  if (!order) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 16\n      }\n    }, \"Loading...\");\n  }\n  const exportToExcel = async () => {\n    try {\n      const response = await axios.get(labelsFile, {\n        responseType: 'arraybuffer'\n      });\n      const existingWorkbook = new ExcelJS.Workbook();\n      await existingWorkbook.xlsx.load(response.data);\n      const dataWorksheet = existingWorkbook.getWorksheet('Data');\n      order.groups.forEach(group => {\n        const rowData = [\"\", order.user.companyName, formatDateWithoutDashes(order.createdAt) + order.id, group.model.name, \"\", group.height, group.width, group.number, order.id + \"-\"];\n        const newRow = dataWorksheet.addRow(rowData);\n      });\n      const buffer = await existingWorkbook.xlsx.writeBuffer();\n      const blob = new Blob([buffer], {\n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n      });\n      saveAs(blob, 'етикети - ' + order.id + '.xlsx');\n    } catch (error) {\n      console.error('Error exporting to Excel:', error);\n    }\n  };\n  return console.log(order), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border mr-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, loggedUser.data.role === '[ADMIN]' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right mr-3 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: exportToExcel,\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, \"\\u0413\\u0435\\u043D\\u0435\\u0440\\u0438\\u0440\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0435\\u0442\\u0438\\u043A\\u0435\\u0442\\u0438\"))), \"   \", /*#__PURE__*/React.createElement(Button, {\n    onClick: captureScreenshotAndConvertToPDF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 18\n    }\n  }, \"PDF\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center border\",\n    id: \"singleOrderComponent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u043D\\u0430 \\u043F\\u043E\\u0440\\u044A\\u0447\\u043A\\u0430\\u0442\\u0430: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: getStatusColor(order.status),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 49\n    }\n  }, order.status === \"WORKING_ON\" ? \"Изпълнява се\" : order.status === \"CREATED\" ? \"Създадена\" : order.status === \"SEND\" ? \"Изпратена\" : order.status === \"DONE\" ? \"Изпълнена\" : order.status)), \"        \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-2 h-10 mb-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 58\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 93\n    }\n  }, \"\\u041E\\u0442 \\u0434\\u0430\\u0442\\u0430: \", order.createdAt)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"  text-left border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 149\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 185\n    }\n  }, \"\\u041D\\u043E\\u043C\\u0435\\u0440: \", order.id))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-2 border mb-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-1 ml-3 mt-3 mb-3 space-y-[5px]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 60\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 123\n    }\n  }, \"\\u0424\\u0438\\u0440\\u043C\\u0430: \", order.user.companyName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 182\n    }\n  }, \"\\u0413\\u0440\\u0430\\u0434: \", order.user.city), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 233\n    }\n  }, \"\\u0410\\u0434\\u0440\\u0435\\u0441: \", order.user.companyAddress), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 295\n    }\n  }, \"\\u0415\\u0418\\u041A/\\u0412\\u0410\\u0422: \", order.user.bulstat), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 352\n    }\n  }, \"\\u041C\\u041E\\u041B: \", order.user.mol)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 390\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-3 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 431\n    }\n  }, \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D: \", order.user.phone), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 491\n    }\n  }, \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u043D\\u0430 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430: \", order.deliveryAddress))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 47\n    }\n  }, \"\\u041C\\u0430\\u0442\\u0435\\u0440\\u0438\\u0430\\u043B: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 78\n    }\n  }, \" \", order.groups[0].door.name))), /*#__PURE__*/React.createElement(TableContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }, \"\\u041C\\u043E\\u0434\\u0435\\u043B\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }, \"\\u0412\\u0438\\u0434\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, \"\\u0424\\u043E\\u043B\\u0438\\u043E\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }, \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, \"\\u0414\\u0440\\u044A\\u0436\\u043A\\u0430\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, \"\\u0412\\u0438\\u0441.,\\u043C\\u043C\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    }\n  }, \"\\u0428\\u0438\\u0440., \\u043C\\u043C\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, \"\\u0414\\u044A\\u043B.,\\u043C\\u043C\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, \"\\u0411\\u0440\\u043E\\u0439\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430 \\u0414\\u0440\\u044A\\u0436\\u043A\\u0430, \\u0431\\u0440.\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, \"\\u0414\\u0432\\u0443\\u0441\\u0442\\u0440. \\u043B\\u0430\\u043C.\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, \"\\u0421\\u0442-\\u0441\\u0442\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, order.groups.map((group, j) => (console.log(group.bothSidesLaminated), /*#__PURE__*/React.createElement(TableRow, {\n    key: j,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  }, group.model.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 33\n    }\n  }, group.detailType.material, ' ', group.detailType.type !== null ? `(${group.detailType.type})` : ''), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }, group.folio.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 33\n    }\n  }, group.profil.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }, group.handle.name), group.detailType.material === 'Корниз' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 41\n    }\n  }, group.length), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 41\n    }\n  }), \"  \") : /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 41\n    }\n  }, group.height), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 41\n    }\n  }, group.width)), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 33\n    }\n  }, group.number), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 33\n    }\n  }, group.handle.price, \" \\u043B\\u0432.\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 33\n    }\n  }, group.bothSidesLaminated === true ? \"Да\" : \"Не\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 33\n    }\n  }, group.groupTotalPrice, \"\\u043B\\u0432.\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \" ml-3  content-end text-left mr-3 grid \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \" font-semibold content-end text-left mr-3 mt-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 82\n    }\n  }, \"\\u0417\\u0430\\u0431\\u0435\\u043B\\u0435\\u0436\\u043A\\u0430 :\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 171\n    }\n  }, order.note)), \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"font-semibold content-end text-right mr-3 mt-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 207\n    }\n  }, \"\\u041E\\u0431\\u0449\\u0430 \\u0441\\u0442\\u043E\\u0439\\u043D\\u043E\\u0441\\u0442: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 289\n    }\n  }, order.totalPrice, \"\\u043B\\u0432.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, \" \", loggedUser.data.role === '[ADMIN]' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right mr-3 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: exportToExcel,\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, \"\\u0413\\u0435\\u043D\\u0435\\u0440\\u0438\\u0440\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0435\\u0442\\u0438\\u043A\\u0435\\u0442\\u0438\"))), \"   \", /*#__PURE__*/React.createElement(Button, {\n    onClick: captureScreenshotAndConvertToPDF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 14\n    }\n  }, \"PDF\")));\n};\nexport default SingleOrder;","map":{"version":3,"names":["React","useState","useEffect","axios","Button","TableContainer","Table","TableHeader","TableCell","TableRow","TableBody","PageTitle","labelsFile","saveAs","ExcelJS","config","jsPDF","html2canvas","SingleOrder","_ref","match","apiBaseUrl","url","API_BASE_URL","order","setOrder","orderId","params","id","token","localStorage","getItem","loggedUser","JSON","parse","formatDateWithoutDashes","dateString","date","Date","options","year","month","day","toLocaleDateString","replace","getStatusColor","status","captureScreenshotAndConvertToPDF","componentToCapture","document","getElementById","then","canvas","imgData","toDataURL","pdf","addImage","save","fetchOrder","headers","Authorization","response","get","data","error","console","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","exportToExcel","responseType","existingWorkbook","Workbook","xlsx","load","dataWorksheet","getWorksheet","groups","forEach","group","rowData","user","companyName","createdAt","model","name","height","width","number","newRow","addRow","buffer","writeBuffer","blob","Blob","type","log","Fragment","className","role","onClick","city","companyAddress","bulstat","mol","phone","deliveryAddress","door","map","j","bothSidesLaminated","key","detailType","material","folio","profil","handle","length","price","groupTotalPrice","note","totalPrice"],"sources":["/Users/milenmladenov/asset-management-fe-1/src/pages/SingleOrder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button, TableContainer, Table, TableHeader, TableCell, TableRow, TableBody } from '@windmill/react-ui';\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport labelsFile from \"../assets/xlxs/за етикети.xlsx\";\nimport { saveAs } from \"file-saver\"; // Import saveAs function\nimport ExcelJS from 'exceljs';\nimport { config } from '../Constants';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\n\nconst SingleOrder = ({ match }) => {\n    const apiBaseUrl = config.url.API_BASE_URL;\n\n    const [order, setOrder] = useState(null);\n    const orderId = match.params.id; // Get the orderId from the route parameter\n    const token = localStorage.getItem('accessToken')\n    const loggedUser = JSON.parse(localStorage.getItem('user'))\n    const formatDateWithoutDashes = (dateString) => {\n        const date = new Date(dateString);\n        const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\n        return date.toLocaleDateString('en-US', options).replace(/\\//g, ''); // Remove slashes\n    };\n\n    const getStatusColor = (status) => {\n        switch (status) {\n            case \"WORKING_ON\":\n                return \"text-yellow-500\"; // Yellow color\n            case \"CREATED\":\n                return \"text-gray-500\";\n            case \"SEND\":\n                return \"text-blue-500\";\n            case \"DONE\":\n                return \"text-green-500\";\n                return \"\";\n        }\n    };\n\n    const captureScreenshotAndConvertToPDF = () => {\n        // Select the component or container to capture\n        const componentToCapture = document.getElementById('singleOrderComponent');\n\n        // Use html2canvas to capture the component as an image\n        html2canvas(componentToCapture).then(canvas => {\n            const imgData = canvas.toDataURL('image/png');\n\n            // Create a new jsPDF instance\n            const pdf = new jsPDF('p', 'mm', 'a4'); // Landscape orientation\n\n            // Add the captured image to the PDF\n            pdf.addImage(imgData, 'PNG', 0, 0, 200, 200); // Adjust width and height as needed\n\n            // Save the PDF\n            pdf.save('single_order.pdf');\n        });\n    };\n\n    useEffect(() => {\n        const fetchOrder = async () => {\n\n            try {\n                const config = {\n                    headers: {\n                        Authorization: `Bearer ${token}`,\n                    },\n                };\n                const response = await axios.get(apiBaseUrl + `/api/orders/${orderId}`, config);\n                setOrder(response.data);\n            } catch (error) {\n                console.error('Error fetching order:', error);\n            }\n        };\n\n        fetchOrder();\n    }, [orderId]);\n\n    if (!order) {\n        return <div>Loading...</div>;\n    }\n    const exportToExcel = async () => {\n        try {\n            const response = await axios.get(labelsFile, { responseType: 'arraybuffer' });\n            const existingWorkbook = new ExcelJS.Workbook();\n            await existingWorkbook.xlsx.load(response.data)\n\n            const dataWorksheet = existingWorkbook.getWorksheet('Data')\n            order.groups.forEach(group => {\n\n                const rowData = [\"\",\n                    order.user.companyName, formatDateWithoutDashes(order.createdAt) + order.id, group.model.name, \"\", group.height, group.width, group.number, order.id + \"-\"];\n\n                const newRow = dataWorksheet.addRow(rowData);\n            })\n\n\n\n            const buffer = await existingWorkbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n\n            saveAs(blob, 'етикети - ' + order.id + '.xlsx');\n\n\n        } catch (error) {\n            console.error('Error exporting to Excel:', error);\n        }\n    };\n\n    return (\n        console.log(order),\n        <><div className='border mr-10'>\n            {loggedUser.data.role === '[ADMIN]' && (\n                <>\n                    <div className='text-right mr-3 mb-4'>\n                        <Button onClick={exportToExcel} className=\"\">\n                            Генериране на етикети\n                        </Button>\n\n\n                    </div>\n                </>\n            )}   <Button onClick={captureScreenshotAndConvertToPDF}>PDF</Button>\n            <div className='text-center border' id=\"singleOrderComponent\">\n                <PageTitle>Статус на поръчката: <span className={getStatusColor(order.status)}>{order.status === \"WORKING_ON\" ? \"Изпълнява се\" : order.status === \"CREATED\" ? \"Създадена\" : order.status === \"SEND\" ? \"Изпратена\" : order.status === \"DONE\" ? \"Изпълнена\" : order.status}</span>\n\n                </PageTitle>        </div>\n            <div className='grid grid-cols-2 h-10 mb-4 '><div className='text-right border'><p className='mr-3'>От дата: {order.createdAt}</p></div><div className='  text-left border'><p className='ml-3'>Номер: {order.id}</p></div></div>\n            <div className='grid grid-cols-2 border mb-4 '><div className='grid grid-cols-1 ml-3 mt-3 mb-3 space-y-[5px]'><div className='mb-2'>Фирма: {order.user.companyName}</div><div className='mb-2'>Град: {order.user.city}</div><div className='mb-2'>Адрес: {order.user.companyAddress}</div><div className='mb-2'>ЕИК/ВАТ: {order.user.bulstat}</div><div>МОЛ: {order.user.mol}</div></div><div className='grid grid-cols-1 border'><div className='ml-3 mt-3'>Телефон: {order.user.phone}</div><div className='ml-3'>Адрес на доставка: {order.deliveryAddress}</div></div></div>\n            <div className='grid grid-cols-2'><h1 className='ml-3'>Материал: <span className='font-semibold'> {order.groups[0].door.name}</span></h1>\n            </div>\n            <TableContainer>\n\n                <Table>\n                    <TableHeader>\n                        <tr>\n                            <TableCell>Модел</TableCell>\n                            <TableCell>Вид</TableCell>\n                            <TableCell>Фолио</TableCell>\n                            <TableCell>Профил</TableCell>\n                            <TableCell>Дръжка</TableCell>\n                            <TableCell>Вис.,мм</TableCell>\n                            <TableCell>Шир., мм</TableCell>\n                            <TableCell>Дъл.,мм</TableCell>\n                            <TableCell>Брой</TableCell>\n                            <TableCell>Цена Дръжка, бр.</TableCell>\n                            <TableCell>Двустр. лам.</TableCell>\n                            <TableCell>Ст-ст</TableCell>\n\n                            {/* Add more table headers for other fields */}\n                        </tr>\n                    </TableHeader>\n                    <TableBody>\n                        {order.groups.map((group, j) => (\n                            console.log(group.bothSidesLaminated),\n\n                            <TableRow key={j}>\n                                <TableCell>{group.model.name}</TableCell>\n                                <TableCell>\n                                    {group.detailType.material}{' '}\n                                    {group.detailType.type !== null ? `(${group.detailType.type})` : ''}\n                                </TableCell>\n                                <TableCell>{group.folio.name}</TableCell>\n                                <TableCell>{group.profil.name}</TableCell>\n                                <TableCell>{group.handle.name}</TableCell>\n                                {group.detailType.material === 'Корниз' ? (\n                                    <>\n                                        <TableCell>{group.length}</TableCell>\n                                        <TableCell></TableCell>\n                                        <TableCell></TableCell>  {/* Leave this cell empty */}\n                                    </>\n                                ) : (\n                                    <> <TableCell></TableCell>\n                                        <TableCell>{group.height}</TableCell>\n                                        <TableCell>{group.width}</TableCell>\n                                    </>\n                                )}\n                                <TableCell>{group.number}</TableCell>\n                                <TableCell>{group.handle.price} лв.</TableCell>\n                                <TableCell>{group.bothSidesLaminated === true ? (\"Да\") : (\"Не\")}</TableCell>\n                                <TableCell>{group.groupTotalPrice}лв.</TableCell>\n                            </TableRow>\n                        ))}\n\n                    </TableBody>\n\n                </Table>\n                <div><div><p className=' ml-3  content-end text-left mr-3 grid '><span className=' font-semibold content-end text-left mr-3 mt-3 mb-3'>Забележка :</span> <span>{order.note}</span></p> </div><p className='font-semibold content-end text-right mr-3 mt-3 mb-3'>Обща стойност: <span>{order.totalPrice}лв.</span></p></div>\n            </TableContainer>\n\n        </div><div> {loggedUser.data.role === '[ADMIN]' && (\n            <>\n                <div className='text-right mr-3 mb-4'>\n                    <Button onClick={exportToExcel} className=\"\">\n                        Генериране на етикети\n                    </Button>\n\n\n                </div>\n            </>\n        )}   <Button onClick={captureScreenshotAndConvertToPDF}>PDF</Button></div></>\n    );\n};\n\nexport default SingleOrder;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}