{"ast":null,"code":"var _jsxFileName = \"/Users/milenmladenov/asset-management-fe/src/components/OrdersTable.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { TableBody, TableContainer, Table, TableHeader, TableCell, TableRow, TableFooter, Avatar, Badge, Pagination } from \"@windmill/react-ui\";\nconst OrdersTable = _ref => {\n  let {\n    resultsPerPage,\n    filter\n  } = _ref;\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  const [totalResults, setTotalResults] = useState(0);\n\n  // pagination change control\n  function onPageChange(p) {\n    setPage(p);\n  }\n  const fetchData = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8080/api/orders/all\");\n      const ordersData = response.data;\n\n      // Apply filters if necessary\n      let filteredData = ordersData;\n      if (filter === \"paid\") {\n        filteredData = ordersData.filter(order => order.status === \"Paid\");\n      } else if (filter === \"un-paid\") {\n        filteredData = ordersData.filter(order => order.status === \"Un-paid\");\n      } else if (filter === \"completed\") {\n        filteredData = ordersData.filter(order => order.status === \"Completed\");\n      }\n\n      // Flatten the groups and update the totalResults and data state\n      const flattenedGroups = filteredData.flatMap(order => order.groups);\n      setTotalResults(flattenedGroups.length);\n      setData(flattenedGroups.slice((page - 1) * resultsPerPage, page * resultsPerPage));\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, [page, resultsPerPage, filter]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    className: \"mb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Door\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Model\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, \"Handle\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, \"Folio\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"Profil\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, \"Date\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, data.map((group, i) => /*#__PURE__*/React.createElement(TableRow, {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, group.door.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, group.model.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, group.handle.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, group.folio.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, group.profil.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, group.groupTotalPrice), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    type: group.status === \"Un-paid\" ? \"danger\" : group.status === \"Paid\" ? \"success\" : group.status === \"Completed\" ? \"warning\" : \"neutral\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }, group.status)), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, new Date(group.date).toLocaleDateString()))))), /*#__PURE__*/React.createElement(TableFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    totalResults: totalResults,\n    resultsPerPage: resultsPerPage,\n    label: \"Table navigation\",\n    onChange: onPageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }))));\n};\nexport default OrdersTable;","map":{"version":3,"names":["React","useState","useEffect","axios","TableBody","TableContainer","Table","TableHeader","TableCell","TableRow","TableFooter","Avatar","Badge","Pagination","OrdersTable","_ref","resultsPerPage","filter","page","setPage","data","setData","totalResults","setTotalResults","onPageChange","p","fetchData","response","get","ordersData","filteredData","order","status","flattenedGroups","flatMap","groups","length","slice","error","console","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","map","group","i","key","door","name","model","handle","folio","profil","groupTotalPrice","type","Date","date","toLocaleDateString","label","onChange"],"sources":["/Users/milenmladenov/asset-management-fe/src/components/OrdersTable.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  TableBody,\n  TableContainer,\n  Table,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Avatar,\n  Badge,\n  Pagination,\n} from \"@windmill/react-ui\";\n\nconst OrdersTable = ({ resultsPerPage, filter }) => {\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  const [totalResults, setTotalResults] = useState(0);\n\n  // pagination change control\n  function onPageChange(p) {\n    setPage(p);\n  }\n\n  const fetchData = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8080/api/orders/all\");\n      const ordersData = response.data;\n\n      // Apply filters if necessary\n      let filteredData = ordersData;\n      if (filter === \"paid\") {\n        filteredData = ordersData.filter(order => order.status === \"Paid\");\n      } else if (filter === \"un-paid\") {\n        filteredData = ordersData.filter(order => order.status === \"Un-paid\");\n      } else if (filter === \"completed\") {\n        filteredData = ordersData.filter(order => order.status === \"Completed\");\n      }\n\n      // Flatten the groups and update the totalResults and data state\n      const flattenedGroups = filteredData.flatMap(order => order.groups);\n      setTotalResults(flattenedGroups.length);\n      setData(flattenedGroups.slice((page - 1) * resultsPerPage, page * resultsPerPage));\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [page, resultsPerPage, filter]);\n\n  return (\n    <div>\n      {/* Table */}\n      <TableContainer className=\"mb-8\">\n        <Table>\n          <TableHeader>\n            <tr>\n              <TableCell>Door</TableCell>\n              <TableCell>Model</TableCell>\n              <TableCell>Handle</TableCell>\n              <TableCell>Folio</TableCell>\n              <TableCell>Profil</TableCell>\n              <TableCell>Amount</TableCell>\n              <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell>\n            </tr>\n          </TableHeader>\n          <TableBody>\n            {data.map((group, i) => (\n              <TableRow key={i}>\n                <TableCell>{group.door.name}</TableCell>\n                <TableCell>{group.model.name}</TableCell>\n                <TableCell>{group.handle.name}</TableCell>\n                <TableCell>{group.folio.name}</TableCell>\n                <TableCell>{group.profil.name}</TableCell>\n                <TableCell>{group.groupTotalPrice}</TableCell>\n                <TableCell>\n                  <Badge\n                    type={\n                      group.status === \"Un-paid\"\n                        ? \"danger\"\n                        : group.status === \"Paid\"\n                        ? \"success\"\n                        : group.status === \"Completed\"\n                        ? \"warning\"\n                        : \"neutral\"\n                    }\n                  >\n                    {group.status}\n                  </Badge>\n                </TableCell>\n                <TableCell>\n                  {new Date(group.date).toLocaleDateString()}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter>\n          <Pagination\n            totalResults={totalResults}\n            resultsPerPage={resultsPerPage}\n            label=\"Table navigation\"\n            onChange={onPageChange}\n          />\n        </TableFooter>\n      </TableContainer>\n    </div>\n  );\n};\n\nexport default OrdersTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}