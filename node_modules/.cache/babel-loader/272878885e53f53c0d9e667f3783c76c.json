{"ast":null,"code":"import _regeneratorRuntime from\"/Users/milenmladenov/asset-management-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/milenmladenov/asset-management-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/milenmladenov/asset-management-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import PageTitle from\"../components/Typography/PageTitle\";import{Link,NavLink}from\"react-router-dom\";import{EditIcon,EyeIcon,GridViewIcon,HomeIcon,ListViewIcon,TrashIcon}from\"../icons\";import{Card,CardBody,Label,Select,Button,TableBody,TableContainer,Table,TableHeader,TableCell,TableRow,TableFooter,Avatar,Badge,Pagination,Modal,ModalHeader,ModalBody,ModalFooter}from\"@windmill/react-ui\";import response from\"../utils/demo/productData\";import Icon from\"../components/Icon\";import{genRating}from\"../utils/genarateRating\";var ProductsAll=function ProductsAll(){var _useState=useState(\"grid\"),_useState2=_slicedToArray(_useState,2),view=_useState2[0],setView=_useState2[1];// Table and grid data handlling\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];// pagination setup\nvar _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),resultsPerPage=_useState8[0],setResultsPerPage=_useState8[1];var totalResults=response.length;// pagination change control\nfunction onPageChange(p){setPage(p);}// on page change, load new sliced data\n// here you would make another server request for new data\nuseEffect(function(){setData(response.slice((page-1)*resultsPerPage,page*resultsPerPage));},[page,resultsPerPage]);// Delete action model\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isModalOpen=_useState10[0],setIsModalOpen=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedDeleteProduct=_useState12[0],setSelectedDeleteProduct=_useState12[1];function openModal(_x){return _openModal.apply(this,arguments);}function _openModal(){_openModal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(productId){var product;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return data.filter(function(product){return product.id===productId;})[0];case 2:product=_context.sent;// console.log(product);\nsetSelectedDeleteProduct(product);setIsModalOpen(true);case 5:case\"end\":return _context.stop();}}},_callee);}));return _openModal.apply(this,arguments);}function closeModal(){setIsModalOpen(false);}// Handle list view\nvar handleChangeView=function handleChangeView(){if(view===\"list\"){setView(\"grid\");}if(view===\"grid\"){setView(\"list\");}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(PageTitle,null,\"All Products\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex text-gray-800 dark:text-gray-300\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-purple-600\"},/*#__PURE__*/React.createElement(Icon,{className:\"w-5 h-5\",\"aria-hidden\":\"true\",icon:HomeIcon}),/*#__PURE__*/React.createElement(NavLink,{exact:true,to:\"/app/dashboard\",className:\"mx-2\"},\"Dashboard\")),\">\",/*#__PURE__*/React.createElement(\"p\",{className:\"mx-2\"},\"All Products\")),/*#__PURE__*/React.createElement(Card,{className:\"mt-5 mb-5 shadow-md\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center justify-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\"},\"All Products\"),/*#__PURE__*/React.createElement(Label,{className:\"mx-3\"},/*#__PURE__*/React.createElement(Select,{className:\"py-3\"},/*#__PURE__*/React.createElement(\"option\",null,\"Sort by\"),/*#__PURE__*/React.createElement(\"option\",null,\"Asc\"),/*#__PURE__*/React.createElement(\"option\",null,\"Desc\"))),/*#__PURE__*/React.createElement(Label,{className:\"mx-3\"},/*#__PURE__*/React.createElement(Select,{className:\"py-3\"},/*#__PURE__*/React.createElement(\"option\",null,\"Filter by Category\"),/*#__PURE__*/React.createElement(\"option\",null,\"Electronics\"),/*#__PURE__*/React.createElement(\"option\",null,\"Cloths\"),/*#__PURE__*/React.createElement(\"option\",null,\"Mobile Accerssories\"))),/*#__PURE__*/React.createElement(Label,{className:\"mr-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"relative text-gray-500 focus-within:text-purple-600 dark:focus-within:text-purple-400\"},/*#__PURE__*/React.createElement(\"input\",{className:\"py-3 pr-5 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input\",placeholder:\"Number of Results\",value:resultsPerPage,onChange:function onChange(e){return setResultsPerPage(e.target.value);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"absolute inset-y-0 right-0 flex items-center mr-3 pointer-events-none\"},\"Results on \",\"\".concat(view))))),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(Button,{icon:view===\"list\"?ListViewIcon:GridViewIcon,className:\"p-2\",\"aria-label\":\"Edit\",onClick:handleChangeView}))))),/*#__PURE__*/React.createElement(Modal,{isOpen:isModalOpen,onClose:closeModal},/*#__PURE__*/React.createElement(ModalHeader,{className:\"flex items-center\"},/*#__PURE__*/React.createElement(Icon,{icon:TrashIcon,className:\"w-6 h-6 mr-3\"}),\"Delete Product\"),/*#__PURE__*/React.createElement(ModalBody,null,\"Make sure you want to delete product\",\" \",selectedDeleteProduct&&\"\\\"\".concat(selectedDeleteProduct.name,\"\\\"\")),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"div\",{className:\"hidden sm:block\"},/*#__PURE__*/React.createElement(Button,{layout:\"outline\",onClick:closeModal},\"Cancel\")),/*#__PURE__*/React.createElement(\"div\",{className:\"hidden sm:block\"},/*#__PURE__*/React.createElement(Button,null,\"Delete\")),/*#__PURE__*/React.createElement(\"div\",{className:\"block w-full sm:hidden\"},/*#__PURE__*/React.createElement(Button,{block:true,size:\"large\",layout:\"outline\",onClick:closeModal},\"Cancel\")),/*#__PURE__*/React.createElement(\"div\",{className:\"block w-full sm:hidden\"},/*#__PURE__*/React.createElement(Button,{block:true,size:\"large\"},\"Delete\")))),view===\"list\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TableContainer,{className:\"mb-8\"},/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(TableHeader,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(TableCell,null,\"Name\"),/*#__PURE__*/React.createElement(TableCell,null,\"Stock\"),/*#__PURE__*/React.createElement(TableCell,null,\"Rating\"),/*#__PURE__*/React.createElement(TableCell,null,\"QTY\"),/*#__PURE__*/React.createElement(TableCell,null,\"Price\"),/*#__PURE__*/React.createElement(TableCell,null,\"Action\"))),/*#__PURE__*/React.createElement(TableBody,null,data.map(function(product){return/*#__PURE__*/React.createElement(TableRow,{key:product.id},/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-sm\"},/*#__PURE__*/React.createElement(Avatar,{className:\"hidden mr-4 md:block\",src:product.photo,alt:\"Product image\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"font-semibold\"},product.name)))),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Badge,{type:product.qty>0?\"success\":\"danger\"},product.qty>0?\"In Stock\":\"Out of Stock\")),/*#__PURE__*/React.createElement(TableCell,{className:\"text-sm\"},genRating(product.rating,product.reviews.length,5)),/*#__PURE__*/React.createElement(TableCell,{className:\"text-sm\"},product.qty),/*#__PURE__*/React.createElement(TableCell,{className:\"text-sm\"},product.price),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(Link,{to:\"/app/product/\".concat(product.id)},/*#__PURE__*/React.createElement(Button,{icon:EyeIcon,className:\"mr-3\",\"aria-label\":\"Preview\"})),/*#__PURE__*/React.createElement(Button,{icon:EditIcon,className:\"mr-3\",layout:\"outline\",\"aria-label\":\"Edit\"}),/*#__PURE__*/React.createElement(Button,{icon:TrashIcon,layout:\"outline\",onClick:function onClick(){return openModal(product.id);},\"aria-label\":\"Delete\"}))));}))),/*#__PURE__*/React.createElement(TableFooter,null,/*#__PURE__*/React.createElement(Pagination,{totalResults:totalResults,resultsPerPage:resultsPerPage,label:\"Table navigation\",onChange:onPageChange})))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-8\"},data.map(function(product){return/*#__PURE__*/React.createElement(\"div\",{className:\"\",key:product.id},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(\"img\",{className:\"object-cover w-full\",src:product.photo,alt:\"product\"}),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 flex items-center justify-between\"},/*#__PURE__*/React.createElement(\"p\",{className:\"font-semibold truncate  text-gray-600 dark:text-gray-300\"},product.name),/*#__PURE__*/React.createElement(Badge,{type:product.qty>0?\"success\":\"danger\",className:\"whitespace-nowrap\"},/*#__PURE__*/React.createElement(\"p\",{className:\"break-normal\"},product.qty>0?\"In Stock\":\"Out of Stock\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-2 text-purple-500 font-bold text-lg\"},product.price),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-8 text-gray-600 dark:text-gray-400\"},product.shortDescription),/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center justify-between\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/app/product/\".concat(product.id)},/*#__PURE__*/React.createElement(Button,{icon:EyeIcon,className:\"mr-3\",\"aria-label\":\"Preview\",size:\"small\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{icon:EditIcon,className:\"mr-3\",layout:\"outline\",\"aria-label\":\"Edit\",size:\"small\"}),/*#__PURE__*/React.createElement(Button,{icon:TrashIcon,layout:\"outline\",\"aria-label\":\"Delete\",onClick:function onClick(){return openModal(product.id);},size:\"small\"}))))));})),/*#__PURE__*/React.createElement(Pagination,{totalResults:totalResults,resultsPerPage:resultsPerPage,label:\"Table navigation\",onChange:onPageChange})));};export default ProductsAll;","map":{"version":3,"sources":["/Users/milenmladenov/asset-management-fe/src/pages/ProductsAll.js"],"names":["React","useState","useEffect","PageTitle","Link","NavLink","EditIcon","EyeIcon","GridViewIcon","HomeIcon","ListViewIcon","TrashIcon","Card","CardBody","Label","Select","Button","TableBody","TableContainer","Table","TableHeader","TableCell","TableRow","TableFooter","Avatar","Badge","Pagination","Modal","ModalHeader","ModalBody","ModalFooter","response","Icon","genRating","ProductsAll","view","setView","page","setPage","data","setData","resultsPerPage","setResultsPerPage","totalResults","length","onPageChange","p","slice","isModalOpen","setIsModalOpen","selectedDeleteProduct","setSelectedDeleteProduct","openModal","productId","filter","product","id","closeModal","handleChangeView","e","target","value","name","map","photo","qty","rating","reviews","price","shortDescription"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport {\n  EditIcon,\n  EyeIcon,\n  GridViewIcon,\n  HomeIcon,\n  ListViewIcon,\n  TrashIcon,\n} from \"../icons\";\nimport {\n  Card,\n  CardBody,\n  Label,\n  Select,\n  Button,\n  TableBody,\n  TableContainer,\n  Table,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Avatar,\n  Badge,\n  Pagination,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n} from \"@windmill/react-ui\";\nimport response from \"../utils/demo/productData\";\nimport Icon from \"../components/Icon\";\nimport { genRating } from \"../utils/genarateRating\";\n\nconst ProductsAll = () => {\n  const [view, setView] = useState(\"grid\");\n\n  // Table and grid data handlling\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n\n  // pagination setup\n  const [resultsPerPage, setResultsPerPage] = useState(10);\n  const totalResults = response.length;\n\n  // pagination change control\n  function onPageChange(p) {\n    setPage(p);\n  }\n\n  // on page change, load new sliced data\n  // here you would make another server request for new data\n  useEffect(() => {\n    setData(response.slice((page - 1) * resultsPerPage, page * resultsPerPage));\n  }, [page, resultsPerPage]);\n\n  // Delete action model\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedDeleteProduct, setSelectedDeleteProduct] = useState(null);\n  async function openModal(productId) {\n    let product = await data.filter((product) => product.id === productId)[0];\n    // console.log(product);\n    setSelectedDeleteProduct(product);\n    setIsModalOpen(true);\n  }\n\n  function closeModal() {\n    setIsModalOpen(false);\n  }\n\n  // Handle list view\n  const handleChangeView = () => {\n    if (view === \"list\") {\n      setView(\"grid\");\n    }\n    if (view === \"grid\") {\n      setView(\"list\");\n    }\n  };\n\n  return (\n    <div>\n      <PageTitle>All Products</PageTitle>\n\n      {/* Breadcum */}\n      <div className=\"flex text-gray-800 dark:text-gray-300\">\n        <div className=\"flex items-center text-purple-600\">\n          <Icon className=\"w-5 h-5\" aria-hidden=\"true\" icon={HomeIcon} />\n          <NavLink exact to=\"/app/dashboard\" className=\"mx-2\">\n            Dashboard\n          </NavLink>\n        </div>\n        {\">\"}\n        <p className=\"mx-2\">All Products</p>\n      </div>\n\n      {/* Sort */}\n      <Card className=\"mt-5 mb-5 shadow-md\">\n        <CardBody>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                All Products\n              </p>\n\n              <Label className=\"mx-3\">\n                <Select className=\"py-3\">\n                  <option>Sort by</option>\n                  <option>Asc</option>\n                  <option>Desc</option>\n                </Select>\n              </Label>\n\n              <Label className=\"mx-3\">\n                <Select className=\"py-3\">\n                  <option>Filter by Category</option>\n                  <option>Electronics</option>\n                  <option>Cloths</option>\n                  <option>Mobile Accerssories</option>\n                </Select>\n              </Label>\n\n              <Label className=\"mr-8\">\n                {/* <!-- focus-within sets the color for the icon when input is focused --> */}\n                <div className=\"relative text-gray-500 focus-within:text-purple-600 dark:focus-within:text-purple-400\">\n                  <input\n                    className=\"py-3 pr-5 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input\"\n                    placeholder=\"Number of Results\"\n                    value={resultsPerPage}\n                    onChange={(e) => setResultsPerPage(e.target.value)}\n                  />\n                  <div className=\"absolute inset-y-0 right-0 flex items-center mr-3 pointer-events-none\">\n                    {/* <SearchIcon className=\"w-5 h-5\" aria-hidden=\"true\" /> */}\n                    Results on {`${view}`}\n                  </div>\n                </div>\n              </Label>\n            </div>\n            <div className=\"\">\n              <Button\n                icon={view === \"list\" ? ListViewIcon : GridViewIcon}\n                className=\"p-2\"\n                aria-label=\"Edit\"\n                onClick={handleChangeView}\n              />\n            </div>\n          </div>\n        </CardBody>\n      </Card>\n\n      {/* Delete product model */}\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\n        <ModalHeader className=\"flex items-center\">\n          {/* <div className=\"flex items-center\"> */}\n          <Icon icon={TrashIcon} className=\"w-6 h-6 mr-3\" />\n          Delete Product\n          {/* </div> */}\n        </ModalHeader>\n        <ModalBody>\n          Make sure you want to delete product{\" \"}\n          {selectedDeleteProduct && `\"${selectedDeleteProduct.name}\"`}\n        </ModalBody>\n        <ModalFooter>\n          {/* I don't like this approach. Consider passing a prop to ModalFooter\n           * that if present, would duplicate the buttons in a way similar to this.\n           * Or, maybe find some way to pass something like size=\"large md:regular\"\n           * to Button\n           */}\n          <div className=\"hidden sm:block\">\n            <Button layout=\"outline\" onClick={closeModal}>\n              Cancel\n            </Button>\n          </div>\n          <div className=\"hidden sm:block\">\n            <Button>Delete</Button>\n          </div>\n          <div className=\"block w-full sm:hidden\">\n            <Button block size=\"large\" layout=\"outline\" onClick={closeModal}>\n              Cancel\n            </Button>\n          </div>\n          <div className=\"block w-full sm:hidden\">\n            <Button block size=\"large\">\n              Delete\n            </Button>\n          </div>\n        </ModalFooter>\n      </Modal>\n\n      {/* Product Views */}\n      {view === \"list\" ? (\n        <>\n          <TableContainer className=\"mb-8\">\n            <Table>\n              <TableHeader>\n                <tr>\n                  <TableCell>Name</TableCell>\n                  <TableCell>Stock</TableCell>\n                  <TableCell>Rating</TableCell>\n                  <TableCell>QTY</TableCell>\n                  <TableCell>Price</TableCell>\n                  <TableCell>Action</TableCell>\n                </tr>\n              </TableHeader>\n              <TableBody>\n                {data.map((product) => (\n                  <TableRow key={product.id}>\n                    <TableCell>\n                      <div className=\"flex items-center text-sm\">\n                        <Avatar\n                          className=\"hidden mr-4 md:block\"\n                          src={product.photo}\n                          alt=\"Product image\"\n                        />\n                        <div>\n                          <p className=\"font-semibold\">{product.name}</p>\n                        </div>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <Badge type={product.qty > 0 ? \"success\" : \"danger\"}>\n                        {product.qty > 0 ? \"In Stock\" : \"Out of Stock\"}\n                      </Badge>\n                    </TableCell>\n                    <TableCell className=\"text-sm\">\n                      {genRating(product.rating, product.reviews.length, 5)}\n                    </TableCell>\n                    <TableCell className=\"text-sm\">{product.qty}</TableCell>\n                    <TableCell className=\"text-sm\">{product.price}</TableCell>\n                    <TableCell>\n                      <div className=\"flex\">\n                        <Link to={`/app/product/${product.id}`}>\n                          <Button\n                            icon={EyeIcon}\n                            className=\"mr-3\"\n                            aria-label=\"Preview\"\n                          />\n                        </Link>\n                        <Button\n                          icon={EditIcon}\n                          className=\"mr-3\"\n                          layout=\"outline\"\n                          aria-label=\"Edit\"\n                        />\n                        <Button\n                          icon={TrashIcon}\n                          layout=\"outline\"\n                          onClick={() => openModal(product.id)}\n                          aria-label=\"Delete\"\n                        />\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            <TableFooter>\n              <Pagination\n                totalResults={totalResults}\n                resultsPerPage={resultsPerPage}\n                label=\"Table navigation\"\n                onChange={onPageChange}\n              />\n            </TableFooter>\n          </TableContainer>\n        </>\n      ) : (\n        <>\n          {/* Car list */}\n          <div className=\"grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-8\">\n            {data.map((product) => (\n              <div className=\"\" key={product.id}>\n                <Card>\n                  <img\n                    className=\"object-cover w-full\"\n                    src={product.photo}\n                    alt=\"product\"\n                  />\n                  <CardBody>\n                    <div className=\"mb-3 flex items-center justify-between\">\n                      <p className=\"font-semibold truncate  text-gray-600 dark:text-gray-300\">\n                        {product.name}\n                      </p>\n                      <Badge\n                        type={product.qty > 0 ? \"success\" : \"danger\"}\n                        className=\"whitespace-nowrap\"\n                      >\n                        <p className=\"break-normal\">\n                          {product.qty > 0 ? `In Stock` : \"Out of Stock\"}\n                        </p>\n                      </Badge>\n                    </div>\n\n                    <p className=\"mb-2 text-purple-500 font-bold text-lg\">\n                      {product.price}\n                    </p>\n\n                    <p className=\"mb-8 text-gray-600 dark:text-gray-400\">\n                      {product.shortDescription}\n                    </p>\n\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <Link to={`/app/product/${product.id}`}>\n                          <Button\n                            icon={EyeIcon}\n                            className=\"mr-3\"\n                            aria-label=\"Preview\"\n                            size=\"small\"\n                          />\n                        </Link>\n                      </div>\n                      <div>\n                        <Button\n                          icon={EditIcon}\n                          className=\"mr-3\"\n                          layout=\"outline\"\n                          aria-label=\"Edit\"\n                          size=\"small\"\n                        />\n                        <Button\n                          icon={TrashIcon}\n                          layout=\"outline\"\n                          aria-label=\"Delete\"\n                          onClick={() => openModal(product.id)}\n                          size=\"small\"\n                        />\n                      </div>\n                    </div>\n                  </CardBody>\n                </Card>\n              </div>\n            ))}\n          </div>\n\n          <Pagination\n            totalResults={totalResults}\n            resultsPerPage={resultsPerPage}\n            label=\"Table navigation\"\n            onChange={onPageChange}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ProductsAll;\n"]},"metadata":{},"sourceType":"module"}