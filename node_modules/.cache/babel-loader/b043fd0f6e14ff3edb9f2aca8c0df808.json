{"ast":null,"code":"import _defineProperty from\"/Users/milenmladenov/asset-management-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/milenmladenov/asset-management-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/milenmladenov/asset-management-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/milenmladenov/asset-management-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/milenmladenov/asset-management-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{TableBody,TableContainer,Table,TableHeader,TableCell,TableRow,TableFooter,Pagination,Button,Select,Modal,ModalHeader,ModalBody,ModalFooter}from\"@windmill/react-ui\";import{DropdownIcon,EditIcon}from\"../icons\";import{Link}from'react-router-dom';import json2xls from'json2xls';// Import json2xls\nimport{saveAs}from\"file-saver\";// Import saveAs function\nimport*as XLSX from'xlsx';import ExcelJS from'exceljs';import Icon from\"../components/Icon\";import{config}from'../Constants';var OrdersTable=function OrdersTable(_ref){var resultsPerPage=_ref.resultsPerPage,filter=_ref.filter;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalResults=_useState6[0],setTotalResults=_useState6[1];var token=localStorage.getItem('accessToken');var loggedUser=JSON.parse(localStorage.getItem('user'));var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),selectedStatus=_useState8[0],setSelectedStatus=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isModalOpen=_useState10[0],setIsModalOpen=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedOrderId=_useState12[0],setSelectedOrderId=_useState12[1];// Define selectedOrderId state\nvar apiBaseUrl=config.url.API_BASE_URL;var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),isEditing=_useState14[0],setIsEditing=_useState14[1];var getStatusColor=function getStatusColor(status){switch(status){case\"WORKING_ON\":return\"text-yellow-500\";// Yellow color\ncase\"CREATED\":return\"text-gray-500\";case\"SEND\":return\"text-blue-500\";case\"DONE\":return\"text-green-500\";return\"\";}};useEffect(function(){var editingState={};data.forEach(function(order){editingState[order.id]=false;});setIsEditing(editingState);},[data]);var handleChange=function handleChange(event,order){var newStatus=event.target.value;if(newStatus!==selectedStatus){setSelectedStatus(newStatus);setSelectedOrderId(order.id);setIsModalOpen(true);}};var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _config,response,ordersData,filteredData,flattenedGroups;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_config={headers:{Authorization:\"Bearer \".concat(token)}};_context.next=4;return axios.get(apiBaseUrl+\"/api/orders/all\",_config);case 4:response=_context.sent;ordersData=response.data;// Apply filters if necessary\nfilteredData=ordersData;if(filter===\"изпратена\"){filteredData=ordersData.filter(function(order){return order.status===\"SEND\";});}else if(filter===\"създадена\"){filteredData=ordersData.filter(function(order){return order.status===\"CREATED\";});}else if(filter===\"изпълнява се\"){filteredData=ordersData.filter(function(order){return order.status===\"WORKING_ON\";});}else if(filter===\"изпълнена\"){filteredData=ordersData.filter(function(order){return order.status===\"DONE\";});}// Flatten the groups and update the totalResults and data state\nflattenedGroups=filteredData.flatMap(function(order){return order;});setTotalResults(flattenedGroups.length);setData(flattenedGroups.slice((page-1)*resultsPerPage,page*resultsPerPage));_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();var handleConfirmChange=function handleConfirmChange(){var order=data.find(function(order){return order.id===selectedOrderId;});// Find the order using selectedOrderId\nif(!order){console.error(\"Selected order not found\");closeModal();return;}// Make API call to change the order status using Axios\nvar url=\"\".concat(apiBaseUrl,\"/api/orders/\").concat(order.id,\"/change-status/\").concat(selectedStatus);axios.post(url,null,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){console.log(url);window.location.reload();// Handle response as needed\n}).catch(function(error){// Handle error\n});closeModal();};function closeModal(){setIsModalOpen(false);// window.location.reload();\n}// pagination change control\nfunction onPageChange(p){setPage(p);}var formatDateWithoutDashes=function formatDateWithoutDashes(dateString){var date=new Date(dateString);var options={year:'numeric',month:'2-digit',day:'2-digit'};return date.toLocaleDateString('en-US',options).replace(/\\//g,'');// Remove slashes\n};var exportToExcel=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var workbook,worksheet,headerRow,buffer,blob;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:workbook=new ExcelJS.Workbook();worksheet=workbook.addWorksheet('Справка');headerRow=[\"ПОРЕДЕН НОМЕР\",\"Група\",\"ДАТА\",\"ПОРЪЧКА\",\"КЛИЕНТ\",\"ВИД\",\"ГРАД\",\"ЕТИКЕТ\",\"МОДЕЛ\",\"ВИСОЧИНА\",\"ШИРИНА\",\"БРОЙ КОЛИЧЕСТВО\",\"МЕРНА ЕДИНИЦА\",\"ДРЪЖКА\",\"ЕДИНИЧНА ЦЕНА\",\"ЦЕНА НА ДРЪЖКА\",\"ДВУСТРАННО ФОЛИРАНЕ\",\"СТОЙНОСТ\",\"ФОЛИО\",\"ПРОФИЛ\"];worksheet.addRow(headerRow);data.forEach(function(order){order.groups.forEach(function(group){var rowData=[formatDateWithoutDashes(order.createdAt)+order.id,\"Група\",order.createdAt,order.id,order.user.companyName,order.type===\"BY_HAND\"?\"Ръчно - от Администратор\":\"От клиент\",order.user.city,order.detailType,group.model.name,group.height,group.width,group.number,\"квадратен метър\",group.handle.name,group.handle.price,\"Цена на Дръжка\",group.bothSidesLaminated?\"ДВУСТРАННО\":\"\",order.totalPrice,group.folio.name,group.profil.name];var newRow=worksheet.addRow(rowData);// Check if order status is CREATED and set row color to red\nif(order.status===\"CREATED\"){newRow.fill={type:'pattern',pattern:'solid',fgColor:{argb:'FF00FF00'}// Green colornpom \n};}else if(order.status===\"WORKING_ON\"){newRow.fill={type:'pattern',pattern:'solid',fgColor:{argb:'FFFFFF00'}// Yellow color\n};}});});_context2.next=7;return workbook.xlsx.writeBuffer();case 7:buffer=_context2.sent;blob=new Blob([buffer],{type:'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'});saveAs(blob,'Справка - '+new Date().toLocaleDateString()+'.xlsx');case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function exportToExcel(){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchData();},[page,resultsPerPage,filter]);return/*#__PURE__*/React.createElement(\"div\",null,loggedUser.data.role==='[ADMIN]'&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4 \"},/*#__PURE__*/React.createElement(Button,{layout:\"outline\",onClick:exportToExcel,className:\"btn btn-primary\"},\"\\u0415\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442 \\u043D\\u0430 \\u0441\\u043F\\u0440\\u0430\\u0432\\u043A\\u0430\")),/*#__PURE__*/React.createElement(\"hr\",{className:\"customeDivider mx-4 my-5\"})),/*#__PURE__*/React.createElement(TableContainer,{className:\"mb-8\"},/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(TableHeader,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(TableCell,null,\"\\u041D\\u043E\\u043C\\u0435\\u0440\"),/*#__PURE__*/React.createElement(TableCell,null,\"O\\u0442 \\u0434\\u0430\\u0442\\u0430\"),/*#__PURE__*/React.createElement(TableCell,null,\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"),/*#__PURE__*/React.createElement(TableCell,null,\"\\u041F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B\"),/*#__PURE__*/React.createElement(TableCell,null,\"\\u041A\\u0440\\u0430\\u0439\\u043D\\u0430 \\u0441\\u0443\\u043C\\u0430\"),/*#__PURE__*/React.createElement(TableCell,null,\"\\u0422\\u0438\\u043F \\u043F\\u043E\\u0440\\u044A\\u0447\\u043A\\u0430\"),/*#__PURE__*/React.createElement(TableCell,null,\"\\u041E\\u0442\\u0441\\u0442\\u044A\\u043F\\u043A\\u0430\"))),/*#__PURE__*/React.createElement(TableBody,null,data.map(function(order,index){return/*#__PURE__*/React.createElement(TableRow,{key:order.id},/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-sm\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"font-semibold\"},formatDateWithoutDashes(order.createdAt)+order.id)))),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-sm\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"font-semibold\"},order.createdAt)))),/*#__PURE__*/React.createElement(TableCell,{key:order.id},/*#__PURE__*/React.createElement(Modal,{isOpen:isModalOpen,onClose:closeModal},/*#__PURE__*/React.createElement(ModalHeader,{className:\"flex items-center\"},/*#__PURE__*/React.createElement(Icon,{icon:EditIcon,className:\"w-6 h-6 mr-3\"}),\"\\u041F\\u0440\\u043E\\u043C\\u044F\\u043D\\u0430 \\u043D\\u0430 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\"),/*#__PURE__*/React.createElement(ModalBody,null,\"\\u0421\\u0438\\u0433\\u0443\\u0440\\u043D\\u0438 \\u043B\\u0438 \\u0441\\u0442\\u0435, \\u0447\\u0435 \\u0438\\u0441\\u043A\\u0430\\u0442\\u0435 \\u0434\\u0430 \\u043F\\u0440\\u043E\\u043C\\u0435\\u043D\\u0438\\u0442\\u0435 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\\u0430 \\u043D\\u0430\",\" \",/*#__PURE__*/React.createElement(\"b\",null,\" \",selectedStatus===\"WORKING_ON\"?\"Изпълнява се\":selectedStatus===\"CREATED\"?\"Създадена  \":selectedStatus===\"SEND\"?\"Изпратена\":selectedStatus===\"DONE\"?\"Изпълнена\":selectedStatus)),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"div\",{className:\"hidden sm:block\"},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){console.log(order);handleConfirmChange(order);}},\"\\u041F\\u043E\\u0442\\u0432\\u044A\\u0440\\u0436\\u0434\\u0430\\u0432\\u0430\\u043D\\u0435\")),/*#__PURE__*/React.createElement(\"div\",{className:\"hidden sm:block\"},/*#__PURE__*/React.createElement(Button,{layout:\"outline\",onClick:closeModal},\"\\u041E\\u0442\\u043A\\u0430\\u0437\")))),loggedUser.data.role==='[ADMIN]'&&/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return setIsEditing(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},order.id,true));});},style:{cursor:isEditing[order.id]||order.status===\"DONE\"?\"default\":\"pointer\"}},isEditing[order.id]?/*#__PURE__*/React.createElement(Select,{value:selectedStatus,onChange:function onChange(event){return handleChange(event,order);},onBlur:function onBlur(){return setIsEditing(false);}},order.status===\"CREATED\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"                            \",/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"WORKING_ON\"},\"\\u0418\\u0437\\u043F\\u044A\\u043B\\u043D\\u044F\\u0432\\u0430 \\u0441\\u0435\"),/*#__PURE__*/React.createElement(\"option\",{value:\"SEND\"},\"\\u0418\\u0437\\u043F\\u0440\\u0430\\u0442\\u0435\\u043D\\u0430\"),/*#__PURE__*/React.createElement(\"option\",{value:\"DONE\"},\"\\u0418\\u0437\\u043F\\u044A\\u043B\\u043D\\u0435\\u043D\\u0430\")):/*#__PURE__*/React.createElement(\"option\",{value:selectedStatus},order.status===\"WORKING_ON\"?\"Изпълнява се\":order.status===\"SEND\"?\"Изпратена\":\"Изпълнена\"),order.status==\"WORKING_ON\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"option\",{value:\"SEND\"},\"\\u0418\\u0437\\u043F\\u0440\\u0430\\u0442\\u0435\\u043D\\u0430\"),/*#__PURE__*/React.createElement(\"option\",{value:\"DONE\"},\"\\u0418\\u0437\\u043F\\u044A\\u043B\\u043D\\u0435\\u043D\\u0430\")),order.status==\"SEND\"&&/*#__PURE__*/React.createElement(\"option\",{value:\"DONE\"},\"\\u0418\\u0437\\u043F\\u044A\\u043B\\u043D\\u0435\\u043D\\u0430\")):/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-sm \".concat(getStatusColor(order.status))},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"font-semibold\"},order.status===\"WORKING_ON\"?\"Изпълнява се\":order.status===\"CREATED\"?\"Създадена\":order.status===\"SEND\"?\"Изпратена\":order.status===\"DONE\"?\"Изпълнена\":order.status,\"                      \",order.status!==\"DONE\"&&/*#__PURE__*/React.createElement(\"p\",{style:{color:\"blue\"}},\"\\u041F\\u0440\\u043E\\u043C\\u044F\\u043D\\u0430 \\u043D\\u0430 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\"))))),loggedUser.data.role==='[USER]'&&/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-sm \".concat(getStatusColor(order.status))},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"font-semibold\"},order.status===\"WORKING_ON\"?\"Изпълнява се\":order.status===\"CREATED\"?\"Създадена\":order.status===\"SEND\"?\"Изпратена\":order.status===\"DONE\"?\"Изпълнена\":order.status)))),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-sm\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"font-semibold\"},order.user.companyName)))),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-sm\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-semibold\"},order.totalPrice),/*#__PURE__*/React.createElement(\"span\",null,\"\\u043B\\u0432.\")))),/*#__PURE__*/React.createElement(TableCell,null,order.type===\"BY_HAND\"?\"Ръчно - от Администратор\":\"От клиент\"),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center text-sm\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-semibold\"},\"0\"),/*#__PURE__*/React.createElement(\"span\",null,\"%\")))),/*#__PURE__*/React.createElement(TableCell,{className:\"w-1/12 text-center\"},/*#__PURE__*/React.createElement(Link,{to:\"orders/\".concat(order.id),className:\"text-indigo-600 hover:text-indigo-900\"},\"\\u0414\\u0435\\u0442\\u0430\\u0439\\u043B\\u0438\")));}))),/*#__PURE__*/React.createElement(TableFooter,null,/*#__PURE__*/React.createElement(Pagination,{totalResults:totalResults,resultsPerPage:resultsPerPage,onChange:onPageChange}))));};export default OrdersTable;","map":{"version":3,"names":["React","useState","useEffect","axios","TableBody","TableContainer","Table","TableHeader","TableCell","TableRow","TableFooter","Pagination","Button","Select","Modal","ModalHeader","ModalBody","ModalFooter","DropdownIcon","EditIcon","Link","json2xls","saveAs","XLSX","ExcelJS","Icon","config","OrdersTable","_ref","resultsPerPage","filter","_useState","_useState2","_slicedToArray","page","setPage","_useState3","_useState4","data","setData","_useState5","_useState6","totalResults","setTotalResults","token","localStorage","getItem","loggedUser","JSON","parse","_useState7","_useState8","selectedStatus","setSelectedStatus","_useState9","_useState10","isModalOpen","setIsModalOpen","_useState11","_useState12","selectedOrderId","setSelectedOrderId","apiBaseUrl","url","API_BASE_URL","_useState13","_useState14","isEditing","setIsEditing","getStatusColor","status","editingState","forEach","order","id","handleChange","event","newStatus","target","value","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_config","response","ordersData","filteredData","flattenedGroups","wrap","_callee$","_context","prev","next","headers","Authorization","concat","get","sent","flatMap","length","slice","t0","console","error","stop","apply","arguments","handleConfirmChange","find","closeModal","post","then","log","window","location","reload","catch","onPageChange","p","formatDateWithoutDashes","dateString","date","Date","options","year","month","day","toLocaleDateString","replace","exportToExcel","_ref3","_callee2","workbook","worksheet","headerRow","buffer","blob","_callee2$","_context2","Workbook","addWorksheet","addRow","groups","group","rowData","createdAt","user","companyName","type","city","detailType","model","name","height","width","number","handle","price","bothSidesLaminated","totalPrice","folio","profil","newRow","fill","pattern","fgColor","argb","xlsx","writeBuffer","Blob","createElement","role","Fragment","className","layout","onClick","map","index","key","isOpen","onClose","icon","prevState","_objectSpread","_defineProperty","style","cursor","onChange","onBlur","color","to"],"sources":["/Users/milenmladenov/asset-management-fe/src/components/OrdersTable.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  TableBody,\n  TableContainer,\n  Table,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Pagination,\n  Button, Select, Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter\n} from \"@windmill/react-ui\";\nimport {\n  DropdownIcon,\n  EditIcon,\n\n} from \"../icons\";\nimport { Link } from 'react-router-dom'\nimport json2xls from 'json2xls'; // Import json2xls\nimport { saveAs } from \"file-saver\"; // Import saveAs function\nimport * as XLSX from 'xlsx';\nimport ExcelJS from 'exceljs';\nimport Icon from \"../components/Icon\";\nimport { config } from '../Constants';\n\n\n\n\n\n\n\n\nconst OrdersTable = ({ resultsPerPage, filter }) => {\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  const [totalResults, setTotalResults] = useState(0);\n  const token = localStorage.getItem('accessToken')\n  const loggedUser = JSON.parse(localStorage.getItem('user'))\n  const [selectedStatus, setSelectedStatus] = useState();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedOrderId, setSelectedOrderId] = useState(null); // Define selectedOrderId state\n  const apiBaseUrl = config.url.API_BASE_URL;\n  const [isEditing, setIsEditing] = useState([]);\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"WORKING_ON\":\n        return \"text-yellow-500\"; // Yellow color\n      case \"CREATED\":\n        return \"text-gray-500\";\n      case \"SEND\":\n        return \"text-blue-500\";\n      case \"DONE\":\n        return \"text-green-500\";\n        return \"\";\n    }\n  };\n  useEffect(() => {\n    const editingState = {};\n    data.forEach(order => {\n      editingState[order.id] = false;\n    });\n    setIsEditing(editingState);\n  }, [data]);\n  \n\n  const handleChange = (event, order) => {\n    const newStatus = event.target.value;\n    if (newStatus !== selectedStatus) {\n      setSelectedStatus(newStatus);\n      setSelectedOrderId(order.id);\n      setIsModalOpen(true);\n    }\n  };\n\n  const fetchData = async () => {\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      };\n      const response = await axios.get(apiBaseUrl + \"/api/orders/all\", config);\n      const ordersData = response.data;\n\n      // Apply filters if necessary\n      let filteredData = ordersData;\n      if (filter === \"изпратена\") {\n        filteredData = ordersData.filter(order => order.status === \"SEND\");\n      } else if (filter === \"създадена\") {\n        filteredData = ordersData.filter(order => order.status === \"CREATED\");\n      } else if (filter === \"изпълнява се\") {\n        filteredData = ordersData.filter(order => order.status === \"WORKING_ON\");\n      } else if (filter === \"изпълнена\") {\n        filteredData = ordersData.filter(order => order.status === \"DONE\");\n      }\n\n      // Flatten the groups and update the totalResults and data state\n      const flattenedGroups = filteredData.flatMap(order => order);\n      setTotalResults(flattenedGroups.length);\n      setData(flattenedGroups.slice((page - 1) * resultsPerPage, page * resultsPerPage));\n\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n  const handleConfirmChange = () => {\n    const order = data.find(order => order.id === selectedOrderId); // Find the order using selectedOrderId\n    if (!order) {\n      console.error(\"Selected order not found\");\n      closeModal();\n      return;\n    }\n\n    // Make API call to change the order status using Axios\n    const url = `${apiBaseUrl}/api/orders/${order.id}/change-status/${selectedStatus}`;\n    axios\n      .post(url, null, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((response) => {\n        console.log(url);\n        window.location.reload()\n        // Handle response as needed\n      })\n      .catch((error) => {\n        // Handle error\n      });\n\n    closeModal();\n  };\n  function closeModal() {\n    setIsModalOpen(false);\n    // window.location.reload();\n  }\n  // pagination change control\n  function onPageChange(p) {\n    setPage(p);\n  }\n\n  const formatDateWithoutDashes = (dateString) => {\n    const date = new Date(dateString);\n    const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\n    return date.toLocaleDateString('en-US', options).replace(/\\//g, ''); // Remove slashes\n  };\n\n\n\n  const exportToExcel = async () => {\n    const workbook = new ExcelJS.Workbook();\n    const worksheet = workbook.addWorksheet('Справка');\n\n    const headerRow = [\n      \"ПОРЕДЕН НОМЕР\", \"Група\", \"ДАТА\", \"ПОРЪЧКА\", \"КЛИЕНТ\", \"ВИД\", \"ГРАД\",\n      \"ЕТИКЕТ\", \"МОДЕЛ\", \"ВИСОЧИНА\", \"ШИРИНА\", \"БРОЙ КОЛИЧЕСТВО\",\n      \"МЕРНА ЕДИНИЦА\", \"ДРЪЖКА\", \"ЕДИНИЧНА ЦЕНА\", \"ЦЕНА НА ДРЪЖКА\",\n      \"ДВУСТРАННО ФОЛИРАНЕ\", \"СТОЙНОСТ\", \"ФОЛИО\", \"ПРОФИЛ\",\n    ];\n\n    worksheet.addRow(headerRow);\n\n    data.forEach(order => {\n\n      order.groups.forEach(group => {\n        const rowData = [\n          formatDateWithoutDashes(order.createdAt) + order.id, \"Група\", order.createdAt, order.id, order.user.companyName, order.type === \"BY_HAND\" ? \"Ръчно - от Администратор\" : \"От клиент\",\n          order.user.city, order.detailType, group.model.name, group.height, group.width, group.number,\n          \"квадратен метър\", group.handle.name, group.handle.price, \"Цена на Дръжка\",\n          group.bothSidesLaminated ? \"ДВУСТРАННО\" : \"\", order.totalPrice, group.folio.name, group.profil.name\n        ];\n        const newRow = worksheet.addRow(rowData);\n\n        // Check if order status is CREATED and set row color to red\n        if (order.status === \"CREATED\") {\n          newRow.fill = {\n            type: 'pattern',\n            pattern: 'solid',\n            fgColor: { argb: 'FF00FF00' }, // Green colornpom \n          };\n        } else if (order.status === \"WORKING_ON\") {\n          newRow.fill = {\n            type: 'pattern',\n            pattern: 'solid',\n            fgColor: { argb: 'FFFFFF00' }, // Yellow color\n          };\n        }\n      });\n    });\n\n    const buffer = await workbook.xlsx.writeBuffer();\n    const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n\n    saveAs(blob, 'Справка - ' + new Date().toLocaleDateString() + '.xlsx');\n  };\n\n\n  useEffect(() => {\n    fetchData();\n  }, [page, resultsPerPage, filter]);\n  return (\n    <div>\n      {loggedUser.data.role === '[ADMIN]' && (\n        <>\n          <div className=\"mt-4 \">\n            <Button layout=\"outline\" onClick={exportToExcel} className=\"btn btn-primary\">\n              Експорт на справка\n            </Button>\n          </div>\n          <hr className=\"customeDivider mx-4 my-5\" />\n        </>\n      )}\n\n      {/* Table */}\n      <TableContainer className=\"mb-8\">\n        <Table>\n          <TableHeader>\n            <tr>\n              <TableCell>Номер</TableCell>\n              <TableCell>Oт дата</TableCell>\n              <TableCell>Статус</TableCell>\n              <TableCell>Потребител</TableCell>\n              <TableCell>Крайна сума</TableCell>\n              <TableCell>Тип поръчка</TableCell>\n              <TableCell>Отстъпка</TableCell>\n            </tr>\n          </TableHeader>\n          <TableBody>\n\n            {data.map((order, index) => (\n              <TableRow key={order.id}>\n                <TableCell>\n                  <div className=\"flex items-center text-sm\">\n                    <div>\n                      <p className=\"font-semibold\">{formatDateWithoutDashes(order.createdAt) + order.id}</p>\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell>\n                  <div className=\"flex items-center text-sm\">\n                    <div>\n                      <p className=\"font-semibold\">{order.createdAt}</p>\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell key={order.id} >\n                  <Modal isOpen={isModalOpen} onClose={closeModal}>\n                    <ModalHeader className=\"flex items-center\">\n                      <Icon icon={EditIcon} className=\"w-6 h-6 mr-3\" />\n                      Промяна на статус\n                    </ModalHeader>\n                    <ModalBody>\n                      Сигурни ли сте, че искате да промените статуса на{\" \"}\n                      {/* {selectedStatus && `\"${selectedStatus}\"`} */}\n                      <b> {selectedStatus === \"WORKING_ON\" ? \"Изпълнява се\" : selectedStatus === \"CREATED\" ? \"Създадена  \" : selectedStatus === \"SEND\" ? \"Изпратена\" : selectedStatus === \"DONE\" ? \"Изпълнена\" : selectedStatus}</b>\n\n                    </ModalBody>\n                    <ModalFooter>\n                      <div className=\"hidden sm:block\">\n                        <Button onClick={() => { console.log(order); handleConfirmChange(order) }}>\n                          Потвърждаване\n                        </Button>\n                      </div>\n                      <div className=\"hidden sm:block\">\n                        <Button layout=\"outline\" onClick={closeModal}>\n                          Отказ\n                        </Button>\n                      </div>\n                    </ModalFooter>\n                  </Modal>\n\n                  {loggedUser.data.role === '[ADMIN]' && (\n                    <div onClick={() => setIsEditing(prevState => ({ ...prevState, [order.id]: true }))} style={{ cursor: isEditing[order.id] || order.status === \"DONE\" ? \"default\" : \"pointer\" }}>\n                    {isEditing[order.id] ? (\n                        <Select\n                          value={selectedStatus}\n                          onChange={(event) => handleChange(event, order)}\n                          onBlur={() => setIsEditing(false)}\n                        >\n                          {order.status === \"CREATED\" ? (\n                            \n                            <>                            <option value=\"\">--</option>\n                            <option value=\"WORKING_ON\">Изпълнява се</option><option value=\"SEND\">Изпратена</option><option value=\"DONE\">Изпълнена</option></>\n                            \n\n                          ) : (\n                            <option value={selectedStatus}>\n                              {order.status === \"WORKING_ON\" ? \"Изпълнява се\" : order.status === \"SEND\" ? \"Изпратена\" : \"Изпълнена\"}\n                            </option>\n                          )}\n                           {order.status == \"WORKING_ON\" && (\n                            <><option value=\"SEND\">Изпратена</option><option value=\"DONE\">Изпълнена</option></>)}\n                          {order.status == \"SEND\" && (\n                            <option value=\"DONE\">Изпълнена</option>)}\n\n                        </Select>\n                      ) : (\n                        <div className={`flex items-center text-sm ${getStatusColor(order.status)}`}>\n                          <div>\n                            <p className=\"font-semibold\">\n                              {order.status === \"WORKING_ON\" ? \"Изпълнява се\" : order.status === \"CREATED\" ? \"Създадена\" : order.status === \"SEND\" ? \"Изпратена\" : order.status === \"DONE\" ? \"Изпълнена\" : order.status}                      {order.status !== \"DONE\" && <p style={{ color: \"blue\" }}>Промяна на статус</p>}\n\n                            </p>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                  {loggedUser.data.role === '[USER]' && (\n                    <div className={`flex items-center text-sm ${getStatusColor(order.status)}`}>\n                      <div>\n                        <p className=\"font-semibold\">\n                          {order.status === \"WORKING_ON\" ? \"Изпълнява се\" : order.status === \"CREATED\" ? \"Създадена\" : order.status === \"SEND\" ? \"Изпратена\" : order.status === \"DONE\" ? \"Изпълнена\" : order.status}</p>\n\n                      </div>\n                    </div>)}\n                </TableCell>\n                <TableCell>\n\n                  <div className=\"flex items-center text-sm\">\n                    <div>\n                      <p className=\"font-semibold\">{order.user.companyName}</p>\n                    </div>\n                  </div>\n                </TableCell>\n\n                <TableCell>\n                  <div className=\"flex items-center text-sm\">\n                    <div>\n                      <span className=\"font-semibold\">{order.totalPrice}</span><span>лв.</span>\n                    </div>\n                  </div>\n                </TableCell>\n\n\n                <TableCell>\n                  {order.type === \"BY_HAND\" ? \"Ръчно - от Администратор\" : \"От клиент\"}\n                </TableCell>\n                <TableCell>\n                  <div className=\"flex items-center text-sm\">\n                    <div>\n                      <span className=\"font-semibold\">0</span><span>%</span>\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell className=\"w-1/12 text-center\">\n                  <Link\n                    to={`orders/${order.id}`}\n                    className=\"text-indigo-600 hover:text-indigo-900\"\n                  >\n                    Детайли\n                  </Link>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter>\n\n          <Pagination\n            totalResults={totalResults}\n            resultsPerPage={resultsPerPage}\n            onChange={onPageChange}\n          />\n        </TableFooter>\n      </TableContainer>\n    </div>\n  );\n};\n\nexport default OrdersTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}