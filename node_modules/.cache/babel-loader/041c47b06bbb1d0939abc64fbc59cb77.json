{"ast":null,"code":"import React,{useContext,Suspense,useEffect,lazy}from'react';import{Switch,Route,Redirect,useLocation}from'react-router-dom';import routes from'../routes';import adminRoutes from'../adminRoutes';import Sidebar from'../components/Sidebar';import Header from'../components/Header';import Main from'../containers/Main';import ThemedSuspense from'../components/ThemedSuspense';import{SidebarContext}from'../context/SidebarContext';var Page404=lazy(function(){return import('../pages/404');});var loggedUser=JSON.parse(localStorage.getItem(\"user\"));function Layout(){var _useContext=useContext(SidebarContext),isSidebarOpen=_useContext.isSidebarOpen,closeSidebar=_useContext.closeSidebar;var location=useLocation();useEffect(function(){closeSidebar();},[location]);if(loggedUser.data.role=='[ADMIN]'){return/*#__PURE__*/React.createElement(\"div\",{className:\"flex h-screen bg-gray-50 dark:bg-gray-900 \".concat(isSidebarOpen&&'overflow-hidden')},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-col flex-1 w-full\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(ThemedSuspense,null)},/*#__PURE__*/React.createElement(Switch,null,adminRoutes.map(function(adminRoute,i){return adminRoute.component?/*#__PURE__*/React.createElement(Route,{key:i,exact:true,component:adminRoute.component,path:\"/app\".concat(adminRoute.path)}):null;}),/*#__PURE__*/React.createElement(Redirect,{exact:true,from:\"/app\",to:\"/app/dashboard\"}),/*#__PURE__*/React.createElement(Route,{component:Page404}))))));}return/*#__PURE__*/React.createElement(\"div\",{className:\"flex h-screen bg-gray-50 dark:bg-gray-900 \".concat(isSidebarOpen&&'overflow-hidden')},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-col flex-1 w-full\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(ThemedSuspense,null)},/*#__PURE__*/React.createElement(Switch,null,routes.map(function(route,i){return route.component?/*#__PURE__*/React.createElement(Route,{key:i,exact:true,path:\"/app\".concat(route.path),component:route.component}):null;}),/*#__PURE__*/React.createElement(Redirect,{exact:true,from:\"/app\",to:\"/app/dashboard\"}),/*#__PURE__*/React.createElement(Route,{component:Page404}))))));}export default Layout;","map":{"version":3,"names":["React","useContext","Suspense","useEffect","lazy","Switch","Route","Redirect","useLocation","routes","adminRoutes","Sidebar","Header","Main","ThemedSuspense","SidebarContext","Page404","loggedUser","JSON","parse","localStorage","getItem","Layout","_useContext","isSidebarOpen","closeSidebar","location","data","role","createElement","className","concat","fallback","map","adminRoute","i","component","key","exact","path","from","to","route"],"sources":["/Users/milenmladenov/asset-management-fe/src/containers/Layout.js"],"sourcesContent":["import React, { useContext, Suspense, useEffect, lazy } from 'react'\nimport { Switch, Route, Redirect, useLocation } from 'react-router-dom'\nimport routes from '../routes'\nimport adminRoutes from '../adminRoutes'\n\nimport Sidebar from '../components/Sidebar'\nimport Header from '../components/Header'\nimport Main from '../containers/Main'\nimport ThemedSuspense from '../components/ThemedSuspense'\nimport { SidebarContext } from '../context/SidebarContext'\n\nconst Page404 = lazy(() => import('../pages/404'))\nconst loggedUser = JSON.parse(localStorage.getItem(\"user\"));\n\n\nfunction Layout() {\n  const { isSidebarOpen, closeSidebar } = useContext(SidebarContext)\n  let location = useLocation()\n\n  useEffect(() => {\n    closeSidebar()\n  }, [location])\n  if (loggedUser.data.role == '[ADMIN]') {\n    return (\n      <div\n        className={`flex h-screen bg-gray-50 dark:bg-gray-900 ${isSidebarOpen && 'overflow-hidden'}`}\n      >\n        <Sidebar />\n\n        <div className=\"flex flex-col flex-1 w-full\">\n          <Header />\n          <Main>\n            <Suspense fallback={<ThemedSuspense />}>\n              <Switch>\n                {adminRoutes.map((adminRoute, i) => {\n                  return adminRoute.component ? (\n                    <Route\n                      key={i}\n                      exact={true}\n                      component={adminRoute.component}\n                      path={`/app${adminRoute.path}`}\n                    />\n                  ) : null\n                })}\n                <Redirect exact from=\"/app\" to=\"/app/dashboard\" />\n                <Route component={Page404} />\n              </Switch>\n            </Suspense>\n          </Main>\n        </div>\n      </div>\n    )\n  } \n  return (\n    <div\n      className={`flex h-screen bg-gray-50 dark:bg-gray-900 ${isSidebarOpen && 'overflow-hidden'}`}\n    >\n      <Sidebar />\n\n      <div className=\"flex flex-col flex-1 w-full\">\n        <Header />\n        <Main>\n          <Suspense fallback={<ThemedSuspense />}>\n            <Switch>\n              {routes.map((route, i) => {\n                return route.component ? (\n                  <Route\n                    key={i}\n                    exact={true}\n                    path={`/app${route.path}`}\n                    component={route.component}\n                  />\n                ) : null\n              })}\n              <Redirect exact from=\"/app\" to=\"/app/dashboard\" />\n              <Route component={Page404} />\n            </Switch>\n          </Suspense>\n        </Main>\n      </div>\n    </div>\n  )\n}\n\nexport default Layout\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}