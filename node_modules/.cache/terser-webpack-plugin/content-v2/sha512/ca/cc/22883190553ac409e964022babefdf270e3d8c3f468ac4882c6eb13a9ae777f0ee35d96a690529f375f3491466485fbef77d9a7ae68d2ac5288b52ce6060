{"map":{"version":3,"sources":["static/js/22.202b2f31.chunk.js"],"names":["this","push","355","module","__webpack_exports__","__webpack_require__","r","defineProperty","classCallCheck","createClass","inherits","createSuper","react","react_default","n","dist","Grid","Form","Segment","Button","Message","AuthContext","axios","Constants_config","url","API_BASE_URL","parseJwt","token","base64","split","replace","JSON","parse","window","atob","handleLogError","error","response","console","log","data","request","message","orderApi","authenticate","username","password","instance","post","headers","Content-type","signup","user","numberOfUsers","get","numberOfOrders","getUsers","concat","Authorization","bearerAuth","deleteUser","delete","getOrders","text","deleteOrder","orderId","createOrder","order","getUserMe","create","baseURL","accessToken","interceptors","use","config","Date","now","exp","location","href","Promise","reject","CreateAccount_CreateAccount","_Component","Object","CreateAccount","_super","_this","_len","arguments","length","args","Array","_key","call","apply","state","name","email","isLoggedIn","isError","errorMessage","handleInputChange","e","_ref","value","setState","handleSubmit","preventDefault","_this$state","then","context","userLogin","catch","errorData","status","errors","defaultMessage","key","userIsAuthenticated","_this$state2","a","createElement","to","textAlign","Column","style","maxWidth","size","onSubmit","Input","fluid","autoFocus","icon","iconPosition","placeholder","onChange","type","color","as","negative","contextType"],"mappings":"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"},"code":"(this.webpackJsonpreact_admin_dashboard=this.webpackJsonpreact_admin_dashboard||[]).push([[22],{355:function(e,t,a){\"use strict\";a.r(t);var n=a(5),r=a(9),s=a(10),o=a(13),i=a(14),u=a(0),c=a.n(u),l=a(12),d=a(359),p=a(350),h=a(360),m=a(356),f=a(354),g=a(18),v=a(351),b={url:{API_BASE_URL:\"https://myapp.herokuapp.com\"}};function E(e){if(e){var t=e.split(\".\")[1].replace(\"-\",\"+\").replace(\"_\",\"/\");return JSON.parse(window.atob(t))}}var I=function(e){e.response?console.log(e.response.data):e.request?console.log(e.request):console.log(e.message)},w={authenticate:function(e,t){return A.post(\"/auth/authenticate\",{username:e,password:t},{headers:{\"Content-type\":\"application/json\"}})},signup:function(e){return A.post(\"/auth/signup\",e,{headers:{\"Content-type\":\"application/json\"}})},numberOfUsers:function(){return A.get(\"/public/numberOfUsers\")},numberOfOrders:function(){return A.get(\"/public/numberOfOrders\")},getUsers:function(e,t){var a=t?\"/api/users/\".concat(t):\"/api/users\";return A.get(a,{headers:{Authorization:O(e)}})},deleteUser:function(e,t){return A.delete(\"/api/users/\".concat(t),{headers:{Authorization:O(e)}})},getOrders:function(e,t){var a=t?\"/api/orders?text=\".concat(t):\"/api/orders\";return A.get(a,{headers:{Authorization:O(e)}})},deleteOrder:function(e,t){return A.delete(\"/api/orders/\".concat(t),{headers:{Authorization:O(e)}})},createOrder:function(e,t){return A.post(\"/api/orders\",t,{headers:{\"Content-type\":\"application/json\",Authorization:O(e)}})},getUserMe:function(e){return A.get(\"/api/users/me\",{headers:{Authorization:O(e)}})}};var A=v.a.create({baseURL:b.url.API_BASE_URL});function O(e){return\"Bearer \".concat(e.accessToken)}A.interceptors.request.use((function(e){if(e.headers.Authorization){var t=E(e.headers.Authorization.split(\" \")[1]);Date.now()>1e3*t.exp&&(window.location.href=\"/login\")}return e}),(function(e){return Promise.reject(e)}));var C=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={username:\"\",password:\"\",name:\"\",email:\"\",isLoggedIn:!1,isError:!1,errorMessage:\"\"},e.handleInputChange=function(t,a){var r=a.name,s=a.value;e.setState(Object(n.a)({},r,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password,s=a.name,o=a.email;if(n&&r&&s&&o){var i={username:n,password:r,name:s,email:o};w.signup(i).then((function(t){var a=t.data.accessToken,n={data:E(a),accessToken:a};e.context.userLogin(n),e.setState({username:\"\",password:\"\",isLoggedIn:!0,isError:!1,errorMessage:\"\"})})).catch((function(t){if(I(t),t.response&&t.response.data){var a=t.response.data,n=\"Invalid fields\";409===a.status?n=a.message:400===a.status&&(n=a.errors[0].defaultMessage),e.setState({isError:!0,errorMessage:n})}}))}else e.setState({isError:!0,errorMessage:\"Please, inform all fields!\"})},e}return Object(s.a)(a,[{key:\"componentDidMount\",value:function(){var e=this.context.userIsAuthenticated();this.setState({isLoggedIn:e})}},{key:\"render\",value:function(){var e=this.state,t=e.isLoggedIn,a=e.isError,n=e.errorMessage;return t?c.a.createElement(l.Redirect,{to:\"/app\"}):c.a.createElement(d.a,{textAlign:\"center\"},c.a.createElement(d.a.Column,{style:{maxWidth:450}},c.a.createElement(p.a,{size:\"large\",onSubmit:this.handleSubmit},c.a.createElement(h.a,null,c.a.createElement(p.a.Input,{fluid:!0,autoFocus:!0,name:\"username\",icon:\"user\",iconPosition:\"left\",placeholder:\"Username\",onChange:this.handleInputChange}),c.a.createElement(p.a.Input,{fluid:!0,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",type:\"password\",onChange:this.handleInputChange}),c.a.createElement(p.a.Input,{fluid:!0,name:\"name\",icon:\"address card\",iconPosition:\"left\",placeholder:\"Name\",onChange:this.handleInputChange}),c.a.createElement(p.a.Input,{fluid:!0,name:\"email\",icon:\"at\",iconPosition:\"left\",placeholder:\"Email\",onChange:this.handleInputChange}),c.a.createElement(m.a,{color:\"violet\",fluid:!0,size:\"large\"},\"Signup\"))),c.a.createElement(f.a,null,\"Already have an account? \",c.a.createElement(\"a\",{href:\"/login\",color:\"violet\",as:l.c,to:\"/login\"},\"Login\")),a&&c.a.createElement(f.a,{negative:!0},n)))}}]),a}(u.Component);C.contextType=g.b;t.default=C}}]);","extractedComments":[]}