(this.webpackJsonpreact_admin_dashboard=this.webpackJsonpreact_admin_dashboard||[]).push([[26],{1294:function(e,a,t){"use strict";t.r(a);var l=t(48),r=t.n(l),n=t(52),c=t(9),s=t(0),m=t.n(s),o=t(1296),u=t(16),i=t(39),d=t(94),E=t.n(d),b=(t(72),t(73)),p=t(74),f=t.n(p),g=t(40);a.default=function(e){var a=e.match,t=g.a.url.API_BASE_URL,l=Object(s.useState)(null),d=Object(c.a)(l,2),p=d[0],h=d[1],v=a.params.id,N=localStorage.getItem("accessToken"),x=JSON.parse(localStorage.getItem("user"));if(Object(s.useEffect)((function(){(function(){var e=Object(n.a)(r.a.mark((function e(){var a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:"Bearer ".concat(N)}},e.next=4,o.a.get(t+"/api/orders/".concat(v),a);case 4:l=e.sent,h(l.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching order:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[v]),!p)return m.a.createElement("div",null,"Loading...");var T=function(){var e=Object(n.a)(r.a.mark((function e(){var a,t,l,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(E.a,{responseType:"arraybuffer"});case 3:return a=e.sent,t=new f.a.Workbook,e.next=7,t.xlsx.load(a.data);case 7:return l=t.getWorksheet("Data"),p.groups.forEach((function(e){var a,t=["",p.user.companyName,(a=p.createdAt,new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"")+p.id),e.model.name,"",e.height,e.width,e.number,p.id+"-"];l.addRow(t)})),e.next=11,t.xlsx.writeBuffer();case 11:n=e.sent,c=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Object(b.saveAs)(c,"\u0435\u0442\u0438\u043a\u0435\u0442\u0438 - "+p.id+".xlsx"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error exporting to Excel:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return console.log(p),m.a.createElement("div",{className:"border mr-10"},m.a.createElement("div",{className:"text-center border"},m.a.createElement(i.a,null,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043d\u0430 \u043f\u043e\u0440\u044a\u0447\u043a\u0430\u0442\u0430 : ",m.a.createElement("span",{className:function(e){switch(e){case"WORKING_ON":return"text-yellow-500";case"CREATED":return"text-gray-500";case"SEND":return"text-blue-500";case"DONE":return"text-green-500"}}(p.status)},"WORKING_ON"===p.status?"\u0418\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430 \u0441\u0435":"CREATED"===p.status?"\u0421\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0430":"SEND"===p.status?"\u0418\u0437\u043f\u0440\u0430\u0442\u0435\u043d\u0430":"DONE"===p.status?"\u0418\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430":p.status)),"        "),m.a.createElement("div",{className:"grid grid-cols-2 h-10 mb-4 "},m.a.createElement("div",{className:"text-right border"},m.a.createElement("p",{className:"mr-3"},"\u041e\u0442 \u0434\u0430\u0442\u0430: ",p.createdAt)),m.a.createElement("div",{className:"  text-left border"},m.a.createElement("p",{className:"ml-3"},"\u041d\u043e\u043c\u0435\u0440: ",p.id))),m.a.createElement("div",{className:"grid grid-cols-2 border mb-4 "},m.a.createElement("div",{className:"grid grid-cols-1 ml-3 mt-3 mb-3 space-y-[5px]"},m.a.createElement("div",{className:"mb-2"},"\u0424\u0438\u0440\u043c\u0430 : ",p.user.companyName),m.a.createElement("div",{className:"mb-2"},"\u0413\u0440\u0430\u0434 : ",p.user.city),m.a.createElement("div",{className:"mb-2"},"\u0410\u0434\u0440\u0435\u0441 : ",p.user.companyAddress),m.a.createElement("div",{className:"mb-2"},"\u0415\u0418\u041a/\u0412\u0410\u0422 : ",p.user.bulstat),m.a.createElement("div",null,"\u041c\u041e\u041b : ",p.user.mol)),m.a.createElement("div",{className:"grid grid-cols-1 border"},m.a.createElement("div",{className:"ml-3 mt-3"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",p.user.phone),m.a.createElement("div",{className:"ml-3"},"\u0410\u0434\u0440\u0435\u0441 \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430 : ",p.user.companyAdress))),m.a.createElement("div",{className:"grid grid-cols-2"},m.a.createElement("h1",{className:"ml-3"},"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b : ",m.a.createElement("span",{className:"font-semibold"}," ",p.groups[0].door.name)),"[ADMIN]"===x.data.role&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"text-right mr-3 mb-4"},m.a.createElement(u.Button,{onClick:T,className:""},"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0435\u0442\u0438\u043a\u0435\u0442\u0438")))),m.a.createElement(u.TableContainer,null,m.a.createElement(u.Table,null,m.a.createElement(u.TableHeader,null,m.a.createElement("tr",null,m.a.createElement(u.TableCell,null,"\u041c\u043e\u0434\u0435\u043b"),m.a.createElement(u.TableCell,null,"\u0424\u043e\u043b\u0438\u043e"),m.a.createElement(u.TableCell,null,"\u041f\u0440\u043e\u0444\u0438\u043b"),m.a.createElement(u.TableCell,null,"\u0414\u0440\u044a\u0436\u043a\u0430"),m.a.createElement(u.TableCell,null,"\u0412\u0438\u0441\u043e\u0447\u0438\u043d\u0430,\u043c\u043c"),m.a.createElement(u.TableCell,null,"\u0428\u0438\u0440\u043e\u0447\u0438\u043d\u0430, \u043c\u043c"),m.a.createElement(u.TableCell,null,"\u0411\u0440\u043e\u0439"),m.a.createElement(u.TableCell,null,"\u0426\u0435\u043d\u0430 \u0414\u0440\u044a\u0436\u043a\u0430, \u0431\u0440."),m.a.createElement(u.TableCell,null,"\u0426\u0435\u043d\u0430 \u043c\u0430\u0442 \u0437\u0430 \u043a\u0432.\u043c"),m.a.createElement(u.TableCell,null,"\u0414\u0432\u0443\u0441\u0442\u0440. \u043b\u0430\u043c\u0438\u043d\u0438\u0440\u0430\u043d\u0435"),m.a.createElement(u.TableCell,null,"\u0421\u0442\u043e\u0439\u043d\u043e\u0441\u0442"))),m.a.createElement(u.TableBody,null,p.groups.map((function(e,a){return m.a.createElement(u.TableRow,{key:a},m.a.createElement(u.TableCell,null,e.model.name),m.a.createElement(u.TableCell,null,e.folio.name),m.a.createElement(u.TableCell,null,e.profil.name),m.a.createElement(u.TableCell,null,e.handle.name),m.a.createElement(u.TableCell,null,e.height),m.a.createElement(u.TableCell,null,e.width),m.a.createElement(u.TableCell,null,e.number),m.a.createElement(u.TableCell,null,e.handle.price),m.a.createElement(u.TableCell,null,e.matPrice),m.a.createElement(u.TableCell,null,e.isBothSidesLaminated),m.a.createElement(u.TableCell,null,e.groupTotalPrice,"\u043b\u0432."))})))),m.a.createElement("div",null,m.a.createElement("p",{className:"font-semibold content-end text-right mr-3 mt-3 mb-3"},"\u041e\u0431\u0449\u0430 \u0441\u0442\u043e\u0439\u043d\u043e\u0441\u0442 : ",p.totalPrice,"\u043b\u0432."))))}},39:function(e,a,t){"use strict";var l=t(0),r=t.n(l);a.a=function(e){var a=e.children;return r.a.createElement("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},a)}},40:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var l={url:{API_BASE_URL:"https://orders-pi314-396621.uc.r.appspot.com"}}},94:function(e,a,t){e.exports=t.p+"static/media/\u0437\u0430 \u0435\u0442\u0438\u043a\u0435\u0442\u0438.fc2dcc59.xlsx"}}]);
//# sourceMappingURL=26.cca71f83.chunk.js.map