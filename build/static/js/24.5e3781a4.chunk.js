(this.webpackJsonpreact_admin_dashboard=this.webpackJsonpreact_admin_dashboard||[]).push([[24],{1295:function(e,t,a){"use strict";a.r(t);var n=a(48),c=a.n(n),l=a(52),r=a(9),s=a(0),o=a.n(s),m=a(1296),i=a(16),u=a(44),d=a(42),p=a(39),E=(a(94),a(72),a(73),a(74),a(40));a(255);t.default=function(e){var t=e.match,a=E.a.url.API_BASE_URL,n=Object(s.useState)(!1),b=Object(r.a)(n,2),f=b[0],v=b[1],N=Object(s.useState)(null),g=Object(r.a)(N,2),h=g[0],x=g[1],k=Object(s.useState)(!1),y=Object(r.a)(k,2),O=y[0],j=y[1],B=Object(s.useState)(0),S=Object(r.a)(B,2),_=S[0],w=S[1],C=t.params.id,A=localStorage.getItem("accessToken");JSON.parse(localStorage.getItem("user"));function F(){v(!1)}var I={headers:{Authorization:"Bearer ".concat(A)}};return Object(s.useEffect)((function(){(function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(a,"/api/customers/").concat(C),I);case 3:t=e.sent,x(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching customer:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[C,A,a]),h?(console.log(a+"/api/customers/".concat(C)),console.log(h),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,h?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"text-center "},o.a.createElement(p.a,null,"\u041a\u043b\u0438\u0435\u043d\u0442 :",o.a.createElement("span",null," ",h.companyName))),o.a.createElement("div",{className:"grid grid-cols-2 h-10 mb-4 "},o.a.createElement("div",{className:"text-center border"},o.a.createElement("div",{className:"mb-2"},"\u0418\u043c\u0435: ",h.communicationName),o.a.createElement("p",{className:"mr-3"},"\u0415\u0418\u041a: ",h.bulstat)),o.a.createElement("div",{className:" text-center border"},o.a.createElement("p",{className:"ml-3"},"Email: ",h.email),o.a.createElement("p",{className:"ml-3"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",h.phone))),o.a.createElement("div",{className:"grid grid-cols-2 border mb-4 "},o.a.createElement("div",{className:"grid grid-cols-1 ml-3 mt-3 mb-3 space-y-[5px]"},o.a.createElement("div",{className:"mb-2"},"\u041c\u041e\u041b: ",h.mol),o.a.createElement("div",{className:"mb-2"},"\u0413\u0440\u0430\u0434: ",h.city),o.a.createElement("div",{className:"mb-2"},"\u0410\u0434\u0440\u0435\u0441: ",h.companyAddress))),o.a.createElement(i.Modal,{isOpen:f,onClose:F},o.a.createElement(i.ModalHeader,{className:"flex items-center"},o.a.createElement(u.a,{icon:d.EditIcon,className:"w-6 h-6 mr-3"}),"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043e\u0442\u0441\u0442\u044a\u043f\u043a\u0430"),o.a.createElement(i.ModalBody,null,"\u041e\u0442\u0441\u0442\u044a\u043f\u043a\u0430\u0442\u0430 \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0435\u043d\u0430 \u043d\u0430 "," ",o.a.createElement("b",null," ",_," %")),o.a.createElement(i.ModalFooter,null," ",o.a.createElement("div",{className:"hidden sm:block"},o.a.createElement(i.Button,{onClick:function(){_!==h.appliedDiscount&&m.a.post(a+"/api/customers/".concat(C,"/set-discount/").concat(_),null,I).then((function(){window.location.reload()})).catch((function(e){console.error("Error updating discount:",e)})),j(!1)}},"\u041f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043d\u0435")),o.a.createElement("div",{className:"hidden sm:block"},o.a.createElement(i.Button,{layout:"outline",onClick:F},"\u041e\u0442\u043a\u0430\u0437"))))):o.a.createElement("p",null,"Loading...")),o.a.createElement("div",{className:"ml-4 font-bold justify-center mt-4 text-left"},o.a.createElement("span",{className:"text-xl"},"\u041e\u0442\u0441\u0442\u044a\u043f\u043a\u0430 :"," ",O?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"number",value:_,onChange:function(e){w(e.target.value),F()},className:"border rounded p-1"}),o.a.createElement(i.Button,{className:"ml-4 text-s",onClick:function(){v(!0)}},"\u0413\u043e\u0442\u043e\u0432\u043e"),o.a.createElement(i.Button,{layout:"outline",className:"ml-4 text-s",onClick:function(){j(!1)}},"\u041e\u0442\u043a\u0430\u0437")):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,null!==h.appliedDiscount?h.appliedDiscount+"%":"0%"),o.a.createElement(i.Button,{className:"ml-4 text-s",onClick:function(){return j(!0)}},"\u041f\u0440\u043e\u043c\u0435\u043d\u0438")))))):o.a.createElement("div",null,"Loading...")}},39:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=function(e){var t=e.children;return c.a.createElement("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},t)}},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={url:{API_BASE_URL:"https://orders-pi314-396621.uc.r.appspot.com"}}},44:function(e,t,a){"use strict";var n=a(49),c=a(0),l=a.n(c),r=["icon"];t.a=function(e){var t=e.icon,a=Object(n.a)(e,r),c=t;return l.a.createElement(c,a)}},94:function(e,t,a){e.exports=a.p+"static/media/\u0437\u0430 \u0435\u0442\u0438\u043a\u0435\u0442\u0438.fc2dcc59.xlsx"}}]);
//# sourceMappingURL=24.5e3781a4.chunk.js.map