{"version":3,"sources":["components/context/AuthContext.js","context/SidebarContext.js","components/ThemedSuspense.js","components/AccessibleNavigationAnnouncer.js","components/misc/PrivateRoute.js","App.js","index.js","windmillTheme.js"],"names":["AuthContext","React","createContext","AuthProvider","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","user","getUser","JSON","parse","localStorage","getItem","userIsAuthenticated","Date","now","data","exp","userLogout","userLogin","setItem","stringify","setState","removeItem","_createClass","key","value","this","children","props","createElement","Provider","Component","useAuth","useContext","SidebarContext","SidebarProvider","_ref","_useState","useState","_useState2","_slicedToArray","isSidebarOpen","setIsSidebarOpen","toggleSidebar","closeSidebar","useMemo","ThemedSuspense","className","AccessibleNavigationAnnouncer","message","setMessage","location","useLocation","useEffect","pathname","slice","setTimeout","role","aria-live","aria-atomic","PrivateRoute","Redirect","to","Layout","lazy","Login","SignUp","ForgotPassword","App","Fragment","Router","Switch","Route","path","component","exact","from","ReactDOM","render","Suspense","fallback","Windmill","usePreferences","theme","button","danger","base","active","disabled","document","getElementById"],"mappings":"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","file":"static/js/main.043b3dae.chunk.js","sourcesContent":["import React, { Component, useContext } from 'react'\n\nconst AuthContext = React.createContext()\n\nclass AuthProvider extends Component {\n  state = {\n    user: null\n  }\n\n  componentDidMount() {\n    const user = localStorage.getItem('user')\n    this.setState({ user })\n  }\n\n  getUser = () => {\n    return JSON.parse(localStorage.getItem('user'))\n  }\n\n  userIsAuthenticated = () => {\n    let user = localStorage.getItem('user')\n    if (!user) {\n      return false\n    }\n    user = JSON.parse(user)\n    \n    // if user has token expired, logout user\n    if (Date.now() > user.data.exp * 1000) {\n      this.userLogout()\n      return false\n    }\n    return true\n  }\n\n  userLogin = user => {\n    localStorage.setItem('user', JSON.stringify(user))\n    this.setState({ user })\n  }\n\n  userLogout = () => {\n    localStorage.removeItem('user')\n    this.setState({ user: null })\n  }\n\n  render() {\n    const { children } = this.props\n    const { user } = this.state\n    const { getUser, userIsAuthenticated, userLogin, userLogout } = this\n\n    return (\n      <AuthContext.Provider value={{ user, getUser, userIsAuthenticated, userLogin, userLogout, }}>\n        {children}\n      </AuthContext.Provider>\n    )\n  }\n}\n\nexport default AuthContext\n\nexport function useAuth() {\n  return useContext(AuthContext)\n}\n\nexport { AuthProvider }","import React, { useState, useMemo } from \"react\";\n\n// create context\nexport const SidebarContext = React.createContext();\n\nexport const SidebarProvider = ({ children }) => {\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  function toggleSidebar() {\n    setIsSidebarOpen(!isSidebarOpen);\n  }\n\n  function closeSidebar() {\n    setIsSidebarOpen(false);\n  }\n\n  const value = useMemo(\n    () => ({\n      isSidebarOpen,\n      toggleSidebar,\n      closeSidebar,\n    }),\n    [isSidebarOpen]\n  );\n\n  return (\n    <SidebarContext.Provider value={value}>{children}</SidebarContext.Provider>\n  );\n};\n","import React from \"react\";\nimport \"../assets/css/loadingSpinner.css\";\n\nfunction ThemedSuspense() {\n  return (\n    <div className=\"w-full h-screen flex justify-center items-center p-6 text-lg font-medium text-gray-600 dark:text-gray-400 dark:bg-gray-900\">\n      <div className={`lds-ripple`}>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n}\n\nexport default ThemedSuspense;\n","import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nfunction AccessibleNavigationAnnouncer() {\n  const [message, setMessage] = useState('')\n  const location = useLocation()\n\n  useEffect(() => {\n    // ignore the /\n    if (location.pathname.slice(1)) {\n      // make sure navigation has occurred and screen reader is ready\n      setTimeout(() => setMessage(`Navigated to ${location.pathname.slice(1)} page.`), 500)\n    } else {\n      setMessage('')\n    }\n  }, [location])\n\n  return (\n    <span className=\"sr-only\" role=\"status\" aria-live=\"polite\" aria-atomic=\"true\">\n      {message}\n    </span>\n  )\n}\n\nexport default AccessibleNavigationAnnouncer\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { useAuth } from '../context/AuthContext'\n\nfunction PrivateRoute({ children }) {\n  const { userIsAuthenticated } = useAuth()\n  return userIsAuthenticated() ? children : <Redirect to=\"/login\" />\n}\n\nexport default PrivateRoute","import React, { lazy } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport AccessibleNavigationAnnouncer from \"./components/AccessibleNavigationAnnouncer\";\nimport PrivateRoute from './components/misc/PrivateRoute';\nimport { AuthProvider } from './components/context/AuthContext';\n\nconst Layout = lazy(() => import(\"./containers/Layout\"));\nconst Login = lazy(() => import(\"./pages/Login\"));\nconst SignUp = lazy(() => import(\"./pages/CreateAccount\"));\nconst ForgotPassword = lazy(() => import(\"./pages/ForgotPassword\"));\nconst Logout = lazy(()=> import(\"./components/LogoutModal\"))\n\nfunction App() {\n  return (\n    <>\n      <AuthProvider>\n        <Router>\n          <AccessibleNavigationAnnouncer />\n          <Switch>\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/create-account\" component={SignUp} />\n            <Route path=\"/forgot-password\" component={ForgotPassword} />\n\n\n            {/* Place new routes over this */}\n            <PrivateRoute path=\"/app\">\n              <Layout />\n            </PrivateRoute>\n            {/* If you have an index page, you can remove this Redirect */}\n            <Redirect exact from=\"/\" to=\"/login\" />\n          </Switch>\n        </Router>\n      </AuthProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React, { Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/css/tailwind.output.css\";\nimport App from \"./App\";\nimport { SidebarProvider } from \"./context/SidebarContext\";\nimport ThemedSuspense from \"./components/ThemedSuspense\";\nimport { Windmill } from \"@windmill/react-ui\";\nimport windmillTheme from \"./windmillTheme\";\n\nReactDOM.render(\n  <SidebarProvider>\n    <Suspense fallback={<ThemedSuspense />}>\n      <Windmill usePreferences theme={windmillTheme}>\n        <App />\n      </Windmill>\n    </Suspense>\n  </SidebarProvider>,\n  document.getElementById(\"root\")\n);\n","export default {\n  button: {\n    danger: {\n      base: \"text-white bg-red-600 border border-transparent\",\n      active:\n        \"active:bg-red-600 hover:bg-red-700 focus:ring focus:ring-red-300\",\n      disabled: \"opacity-50 cursor-not-allowed\",\n    },\n  },\n};\n"],"sourceRoot":""}