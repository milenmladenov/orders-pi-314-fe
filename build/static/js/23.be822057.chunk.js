(this.webpackJsonpreact_admin_dashboard=this.webpackJsonpreact_admin_dashboard||[]).push([[23],{11:function(e,t,r){"use strict";r.r(t);t.default=function(e,t){}},1283:function(e,t,r){"use strict";r.r(t);var n=r(43),a=r(17),o=r(18),c=r(22),i=r(21),u=r(0),s=r.n(u),l=r(10),f=r(57),p=r(54),m=r(133),d=r(8),h=r(58),g=r.n(h),b=r(16),v=function(e){Object(c.a)(r,e);var t=Object(i.a)(r);function r(){var e;Object(a.a)(this,r);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:"",isLoggedIn:!1,isError:!1},e.handleInputChange=function(t,r){var a=r.name,o=r.value;e.setState(Object(n.a)({},a,o))},e.handleSubmit=function(t){t.preventDefault();var r=e.state,n=r.username,a=r.password;n&&a?f.a.authenticate(n,a).then((function(t){var r=t.data.accessToken,n={data:Object(p.b)(r),accessToken:r};localStorage.setItem("accessToken",r),e.context.userLogin(n),e.setState({username:"",password:"",isLoggedIn:!0,isError:!1})})).catch((function(t){Object(p.a)(t),e.setState({isError:!0})})):e.setState({isError:!0})},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=this.context.userIsAuthenticated();this.setState({isLoggedIn:e})}},{key:"render",value:function(){var e=this,t=this.state,r=t.isLoggedIn,n=t.isError;return r?s.a.createElement(m.Redirect,{to:"/app"}):s.a.createElement("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900"},s.a.createElement("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800"},s.a.createElement("div",{className:"flex flex-col overflow-y-auto md:flex-row"},s.a.createElement("div",{className:"h-1 w-auto md:h-auto md:w-1/2 ml-4"},s.a.createElement("img",{"aria-hidden":"true",className:"object-contain h-full  w-full dark:hidden",src:g.a,alt:"Logo"})),s.a.createElement("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2"},s.a.createElement("div",{className:"w-full"},s.a.createElement("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200"},"\u0412\u0445\u043e\u0434"),s.a.createElement(b.Label,null,s.a.createElement("span",null,"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435"),s.a.createElement(b.Input,{className:"mt-1",type:"email",placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435",name:"username",value:this.state.username,onChange:function(t){return e.handleInputChange(t,{name:"username",value:t.target.value})}})),s.a.createElement(b.Label,{className:"mt-4"},s.a.createElement("span",null,"\u041f\u0430\u0440\u043e\u043b\u0430"),s.a.createElement(b.Input,{className:"mt-1",type:"password",placeholder:"***************",name:"password",value:this.state.password,onChange:function(t){return e.handleInputChange(t,{name:"password",value:t.target.value})}})),s.a.createElement(b.Button,{className:"mt-4",block:!0,tag:d.b,to:"/app",onClick:this.handleSubmit},"\u0412\u0445\u043e\u0434"),s.a.createElement("br",null),n&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{padding:10},className:"w-full "},s.a.createElement("span",{style:{color:"red"}},s.a.createElement("b",null,"\u0413\u0440\u0435\u0448\u043d\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0430")))),s.a.createElement("hr",{className:"my-8"}),s.a.createElement("p",{className:"mt-4"},s.a.createElement(d.b,{className:"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline",to:"/forgot-password"},"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430?")),s.a.createElement("p",{className:"mt-1"},s.a.createElement(d.b,{className:"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline",to:"/create-account"},"\u041d\u0435 \u0441\u0442\u0435 \u0441\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043b\u0438?")))))))}}]),r}(u.Component);v.contextType=l.b,t.default=v},133:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=n(r(0)),c=r(5);r(7),r(11);var i=n(r(3));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function l(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}var f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=c.createBrowserHistory(t.props),t}return s(t,e),t.prototype.render=function(){return o.createElement(a.Router,{history:this.history,children:this.props.children})},t}(o.Component),p=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=c.createHashHistory(t.props),t}return s(t,e),t.prototype.render=function(){return o.createElement(a.Router,{history:this.history,children:this.props.children})},t}(o.Component),m=function(e,t){return"function"==typeof e?e(t):e},d=function(e,t){return"string"==typeof e?c.createLocation(e,null,null,t):e},h=function(e){return e},g=o.forwardRef;void 0===g&&(g=h);var b=g((function(e,t){var r=e.innerRef,n=e.navigate,a=e.onClick,c=l(e,["innerRef","navigate","onClick"]),i=c.target,s=u({},c,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),n())}});return s.ref=h!==g&&t||r,o.createElement("a",s)})),v=g((function(e,t){var r=e.component,n=void 0===r?b:r,c=e.replace,s=e.to,f=e.innerRef,p=l(e,["component","replace","to","innerRef"]);return o.createElement(a.__RouterContext.Consumer,null,(function(e){e||i(!1);var r=e.history,a=d(m(s,e.location),e.location),l=a?r.createHref(a):"",b=u({},p,{href:l,navigate:function(){var t=m(s,e.location);(c?r.replace:r.push)(t)}});return h!==g?b.ref=t||f:b.innerRef=f,o.createElement(n,b)}))})),y=function(e){return e},w=o.forwardRef;void 0===w&&(w=y);var O=w((function(e,t){var r=e["aria-current"],n=void 0===r?"page":r,c=e.activeClassName,s=void 0===c?"active":c,f=e.activeStyle,p=e.className,h=e.exact,g=e.isActive,b=e.location,O=e.sensitive,E=e.strict,j=e.style,R=e.to,x=e.innerRef,P=l(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(a.__RouterContext.Consumer,null,(function(e){e||i(!1);var r=b||e.location,c=d(m(R,r),r),l=c.pathname,N=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=N?a.matchPath(r.pathname,{path:N,exact:h,sensitive:O,strict:E}):null,C=!!(g?g(k,r):k),A=C?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(p,s):p,_=C?u({},j,{},f):j,S=u({"aria-current":C&&n||null,className:A,style:_,to:c},P);return y!==w?S.ref=t||x:S.innerRef=x,o.createElement(v,S)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return a.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return a.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return a.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return a.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return a.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return a.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return a.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return a.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return a.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return a.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return a.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return a.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return a.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return a.withRouter}}),t.BrowserRouter=f,t.HashRouter=p,t.Link=v,t.NavLink=O},40:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={url:{API_BASE_URL:"https://orders-pi314-396621.uc.r.appspot.com"}}},43:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},54:function(e,t,r){"use strict";function n(e){if(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var a=function(e){e.response?console.log(e.response.data):e.request?console.log(e.request):console.log(e.message)}},57:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(1296),a=r(40),o=r(54),c={authenticate:function(e,t){return i.post("/auth/authenticate",{username:e,password:t},{headers:{"Content-type":"application/json"}})},signup:function(e){return i.post("/auth/signup",e,{headers:{"Content-type":"application/json"}})},numberOfUsers:function(){return i.get("/public/numberOfUsers")},numberOfOrders:function(){return i.get("/public/numberOfOrders")},getUsers:function(e,t){var r=t?"/api/users/".concat(t):"/api/users";return i.get(r,{headers:{Authorization:u(e)}})},deleteUser:function(e,t){return i.delete("/api/users/".concat(t),{headers:{Authorization:u(e)}})},getOrders:function(e,t){var r=t?"/api/orders?text=".concat(t):"/api/orders";return i.get(r,{headers:{Authorization:u(e)}})},deleteOrder:function(e,t){return i.delete("/api/orders/".concat(t),{headers:{Authorization:u(e)}})},createOrder:function(e,t){return i.post("/api/orders",t,{headers:{"Content-type":"application/json",Authorization:u(e)}})},getUserMe:function(e){return i.get("/api/users/me",{headers:{Authorization:u(e)}})},newOrder:function(e){return console.log(e.accessToken),i.post("api/orders/new-order",{headers:{"Content-type":"application/json",Authorization:u(e)}})}};var i=n.a.create({baseURL:a.a.url.API_BASE_URL});function u(e){return"Bearer ".concat(e.accessToken)}i.interceptors.request.use((function(e){if(e.headers.Authorization){var t=e.headers.Authorization.split(" ")[1],r=Object(o.b)(t);Date.now()>1e3*r.exp&&(window.location.href="/login")}return e}),(function(e){return Promise.reject(e)}))},58:function(e,t,r){e.exports=r.p+"static/media/logo-white-frame.462e304b.png"}}]);
//# sourceMappingURL=23.be822057.chunk.js.map