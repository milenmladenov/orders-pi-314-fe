(this.webpackJsonpreact_admin_dashboard=this.webpackJsonpreact_admin_dashboard||[]).push([[9],{1299:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(16);var c=function(e){var t=e.title,a=e.value,l=e.children;return n.a.createElement(r.Card,null,n.a.createElement(r.CardBody,{className:"flex items-center"},l,n.a.createElement("div",null,n.a.createElement("p",{className:"mb-2 text-sm font-medium text-gray-600 dark:text-gray-400"},t),n.a.createElement("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200"},a))))};var s=function(e){var t=e.children,a=e.title;return n.a.createElement("div",{className:"min-w-0 p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800"},n.a.createElement("p",{className:"mb-4 font-semibold text-gray-800 dark:text-gray-300"},a),t)},o=a(135);var i=function(e){var t=e.legends;return n.a.createElement("div",{className:"flex justify-center mt-4 space-x-3 text-sm text-gray-600 dark:text-gray-400"},t.map((function(e){return n.a.createElement("div",{className:"flex items-center",key:e.title},n.a.createElement("span",{className:"inline-block w-3 h-3 mr-1 ".concat(e.color," rounded-full")}),n.a.createElement("span",null,e.title))})))},u=a(39),m=a(43),d=a(229),E=a.n(d);var b=function(e){var t=e.icon,a=e.iconColorClass,l=void 0===a?"text-purple-600 dark:text-purple-100":a,r=e.bgColorClass,c=void 0===r?"bg-purple-100 dark:bg-purple-600":r,s=e.className,o=E()("p-3 rounded-full",l,c,s);return n.a.createElement("div",{className:o},n.a.createElement(t,{className:"w-5 h-5"}))},f=[{title:"\u041c\u0435\u043c\u0431\u0440\u0430\u043d\u043d\u0430 \u0412\u0440\u0430\u0442\u0438\u0447\u043a\u0430",color:"bg-blue-500"},{title:"\u0414\u0432\u0443\u0441\u0442\u0440\u0430\u043d\u043d\u043e \u0413\u0440\u0443\u043d\u0434\u0438\u0440\u0430\u043d \u041c\u0414\u0424",color:"bg-teal-600"},{title:"\u0424\u0443\u0440\u043d\u0438\u0440\u043e\u0432\u0430\u043d \u041c\u0414\u0424",color:"bg-purple-600"}],p=[{title:"\u041e\u0442 \u0410\u0434\u043c\u0438\u043d",color:"bg-teal-600"},{title:"\u041e\u0442 \u041a\u043b\u0438\u0435\u043d\u0442",color:"bg-purple-600"}],g={data:{datasets:[{data:[33,33,33],backgroundColor:["#0694a2","#1c64f2","#7e3af2"],label:"Dataset 1"}],labels:["\u041c\u0435\u043c\u0431\u0440\u0430\u043d\u043d\u0430 \u0412\u0440\u0430\u0442\u0438\u0447\u043a\u0430","\u0414\u0432\u0443\u0441\u0442\u0440\u0430\u043d\u043d\u043e \u0413\u0440\u0443\u043d\u0434\u0438\u0440\u0430\u043d \u041c\u0414\u0424","\u0424\u0443\u0440\u043d\u0438\u0440\u043e\u0432\u0430\u043d \u041c\u0414\u0424"]},options:{responsive:!0,cutoutPercentage:80},legend:{display:!1}},N={data:{labels:["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0431\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438"],datasets:[{label:"\u043e\u0442 \u0410\u0434\u043c\u0438\u043d",backgroundColor:"#0694a2",borderColor:"#0694a2",data:[43,48,40,54,67,73,70],fill:!1},{label:"\u041e\u0442 \u041a\u043b\u0438\u0435\u043d\u0442",fill:!1,backgroundColor:"#7e3af2",borderColor:"#7e3af2",data:[24,50,64,74,52,51,65]}]},options:{responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{x:{display:!0,scaleLabel:{display:!0,labelString:"Month"}},y:{display:!0,scaleLabel:{display:!0,labelString:"Value"}}}},legend:{display:!1}},v=a(86);t.default=function(){var e=JSON.parse(localStorage.getItem("user"));return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,null,"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u043d \u041f\u0430\u043d\u0435\u043b"),"[ADMIN]"===e.data.role&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"grid gap-6 mb-8 md:grid-cols-2 xl:grid-cols-4"},n.a.createElement(c,{title:"\u0411\u0440\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\u0438",value:"765"},n.a.createElement(b,{icon:m.PeopleIcon,iconColorClass:"text-orange-500 dark:text-orange-100",bgColorClass:"bg-orange-100 dark:bg-orange-500",className:"mr-4"})),n.a.createElement(c,{title:"\u041e\u0431\u0449a \u043f\u0435\u0447\u0430\u043b\u0431\u0430",value:"126,760.89 \u043b\u0432."},n.a.createElement(b,{icon:m.MoneyIcon,iconColorClass:"text-green-500 dark:text-green-100",bgColorClass:"bg-green-100 dark:bg-green-500",className:"mr-4"})),n.a.createElement(c,{title:"\u041d\u043e\u0432\u0438 \u043f\u043e\u0440\u044a\u0447\u043a\u0438",value:"150"},n.a.createElement(b,{icon:m.CartIcon,iconColorClass:"text-blue-500 dark:text-blue-100",bgColorClass:"bg-blue-100 dark:bg-blue-500",className:"mr-4"})),n.a.createElement(c,{title:"\u041f\u0440\u0438\u0445\u043e\u0434\u0438 \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0442\u0435 30 \u0434\u043d\u0438",value:"12,345 \u043b\u0432."},n.a.createElement(b,{icon:m.MoneyIcon,iconColorClass:"text-teal-500 dark:text-teal-100",bgColorClass:"bg-teal-100 dark:bg-teal-500",className:"mr-4"}))),n.a.createElement("div",{className:"grid gap-6 mb-8 md:grid-cols-2"},n.a.createElement(s,{title:"\u0421\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0438 \u043f\u043e\u0440\u044a\u0447\u043a\u0438 \u043f\u043e \u0442\u0438\u043f \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b"},n.a.createElement(o.b,N),n.a.createElement(i,{legends:p})),n.a.createElement(s,{title:"\u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438"},n.a.createElement(o.a,g),n.a.createElement(i,{legends:f})))),n.a.createElement(u.a,null,"\u041f\u043e\u0440\u044a\u0447\u043a\u0438"),n.a.createElement(v.a,{resultsPerPage:10}))}},39:function(e,t,a){"use strict";var l=a(0),n=a.n(l);t.a=function(e){var t=e.children;return n.a.createElement("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},t)}},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var l={url:{API_BASE_URL:"https://orders-pi314-396621.uc.r.appspot.com"}}},44:function(e,t,a){"use strict";var l=a(45),n=a(0),r=a.n(n),c=["icon"];t.a=function(e){var t=e.icon,a=Object(l.a)(e,c),n=t;return r.a.createElement(n,a)}},86:function(e,t,a){"use strict";var l=a(42),n=a(49),r=a(50),c=a.n(r),s=a(53),o=a(8),i=a(0),u=a.n(i),m=a(1296),d=a(16),E=a(43),b=a(9),f=(a(72),a(73)),p=a(74),g=a.n(p),N=a(44),v=a(40);t.a=function(e){var t=e.resultsPerPage,a=e.filter,r=Object(i.useState)(1),p=Object(o.a)(r,2),x=p[0],C=p[1],O=Object(i.useState)([]),h=Object(o.a)(O,2),y=h[0],k=h[1],D=Object(i.useState)(0),S=Object(o.a)(D,2),T=S[0],w=S[1],j=localStorage.getItem("accessToken"),A=JSON.parse(localStorage.getItem("user")),R=Object(i.useState)(),I=Object(o.a)(R,2),_=I[0],F=I[1],B=Object(i.useState)(!1),P=Object(o.a)(B,2),M=P[0],W=P[1],G=Object(i.useState)(null),K=Object(o.a)(G,2),L=K[0],H=K[1],J=v.a.url.API_BASE_URL,U=Object(i.useState)([]),z=Object(o.a)(U,2),Y=z[0],V=z[1],q=function(e){switch(e){case"WORKING_ON":return"text-yellow-500";case"CREATED":return"text-gray-500";case"SEND":return"text-blue-500";case"DONE":return"text-green-500"}};Object(i.useEffect)((function(){var e={};y.forEach((function(t){e[t.id]=!1})),V(e)}),[y]);var Q=function(){var e=Object(s.a)(c.a.mark((function e(){var l,n,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l={headers:{Authorization:"Bearer ".concat(j)}},e.next=4,m.a.get(J+"/api/orders/all",l);case 4:n=e.sent,r=n.data,s=r,"\u0438\u0437\u043f\u0440\u0430\u0442\u0435\u043d\u0430"===a?s=r.filter((function(e){return"SEND"===e.status})):"\u0441\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0430"===a?s=r.filter((function(e){return"CREATED"===e.status})):"\u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430 \u0441\u0435"===a?s=r.filter((function(e){return"WORKING_ON"===e.status})):"\u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430"===a&&(s=r.filter((function(e){return"DONE"===e.status}))),o=s.flatMap((function(e){return e})),w(o.length),k(o.slice((x-1)*t,x*t)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();function X(){W(!1)}var Z=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"")},$=function(){var e=Object(s.a)(c.a.mark((function e(){var t,a,l,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.a.Workbook,a=t.addWorksheet("\u0421\u043f\u0440\u0430\u0432\u043a\u0430"),l=["\u041f\u041e\u0420\u0415\u0414\u0415\u041d \u041d\u041e\u041c\u0415\u0420","\u0413\u0440\u0443\u043f\u0430","\u0414\u0410\u0422\u0410","\u041f\u041e\u0420\u042a\u0427\u041a\u0410","\u041a\u041b\u0418\u0415\u041d\u0422","\u0412\u0418\u0414","\u0413\u0420\u0410\u0414","\u0415\u0422\u0418\u041a\u0415\u0422","\u041c\u041e\u0414\u0415\u041b","\u0412\u0418\u0421\u041e\u0427\u0418\u041d\u0410","\u0428\u0418\u0420\u0418\u041d\u0410","\u0411\u0420\u041e\u0419 \u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e","\u041c\u0415\u0420\u041d\u0410 \u0415\u0414\u0418\u041d\u0418\u0426\u0410","\u0414\u0420\u042a\u0416\u041a\u0410","\u0415\u0414\u0418\u041d\u0418\u0427\u041d\u0410 \u0426\u0415\u041d\u0410","\u0426\u0415\u041d\u0410 \u041d\u0410 \u0414\u0420\u042a\u0416\u041a\u0410","\u0414\u0412\u0423\u0421\u0422\u0420\u0410\u041d\u041d\u041e \u0424\u041e\u041b\u0418\u0420\u0410\u041d\u0415","\u0421\u0422\u041e\u0419\u041d\u041e\u0421\u0422","\u0424\u041e\u041b\u0418\u041e","\u041f\u0420\u041e\u0424\u0418\u041b"],a.addRow(l),y.forEach((function(e){e.groups.forEach((function(t){var l=[Z(e.createdAt)+e.id,"\u0413\u0440\u0443\u043f\u0430",e.createdAt,e.id,e.user.companyName,"BY_HAND"===e.type?"\u0420\u044a\u0447\u043d\u043e - \u043e\u0442 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":"\u041e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442",e.user.city,e.detailType,t.model.name,t.height,t.width,t.number,"\u043a\u0432\u0430\u0434\u0440\u0430\u0442\u0435\u043d \u043c\u0435\u0442\u044a\u0440",t.handle.name,t.handle.price,"\u0426\u0435\u043d\u0430 \u043d\u0430 \u0414\u0440\u044a\u0436\u043a\u0430",t.bothSidesLaminated?"\u0414\u0412\u0423\u0421\u0422\u0420\u0410\u041d\u041d\u041e":"",e.totalPrice,t.folio.name,t.profil.name],n=a.addRow(l);"CREATED"===e.status?n.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF00FF00"}}:"WORKING_ON"===e.status&&(n.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"}})}))})),e.next=7,t.xlsx.writeBuffer();case 7:n=e.sent,r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Object(f.saveAs)(r,"\u0421\u043f\u0440\u0430\u0432\u043a\u0430 - "+(new Date).toLocaleDateString()+".xlsx");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){Q()}),[x,t,a]),u.a.createElement("div",null,"[ADMIN]"===A.data.role&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"mt-4 "},u.a.createElement(d.Button,{layout:"outline",onClick:$,className:"btn btn-primary"},"\u0415\u043a\u0441\u043f\u043e\u0440\u0442 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043a\u0430")),u.a.createElement("hr",{className:"customeDivider mx-4 my-5"})),u.a.createElement(d.TableContainer,{className:"mb-8"},u.a.createElement(d.Table,null,u.a.createElement(d.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(d.TableCell,null,"\u041d\u043e\u043c\u0435\u0440"),u.a.createElement(d.TableCell,null,"O\u0442 \u0434\u0430\u0442\u0430"),u.a.createElement(d.TableCell,null,"\u0421\u0442\u0430\u0442\u0443\u0441"),u.a.createElement(d.TableCell,null,"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b"),u.a.createElement(d.TableCell,null,"\u041a\u0440\u0430\u0439\u043d\u0430 \u0441\u0443\u043c\u0430"),u.a.createElement(d.TableCell,null,"\u0422\u0438\u043f \u043f\u043e\u0440\u044a\u0447\u043a\u0430"),u.a.createElement(d.TableCell,null,"\u041e\u0442\u0441\u0442\u044a\u043f\u043a\u0430"))),u.a.createElement(d.TableBody,null,y.map((function(e,t){return u.a.createElement(d.TableRow,{key:e.id},u.a.createElement(d.TableCell,null,u.a.createElement("div",{className:"flex items-center text-sm"},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},Z(e.createdAt)+e.id)))),u.a.createElement(d.TableCell,null,u.a.createElement("div",{className:"flex items-center text-sm"},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.createdAt)))),u.a.createElement(d.TableCell,{key:e.id},u.a.createElement(d.Modal,{isOpen:M,onClose:X},u.a.createElement(d.ModalHeader,{className:"flex items-center"},u.a.createElement(N.a,{icon:E.EditIcon,className:"w-6 h-6 mr-3"}),"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u0441\u0442\u0430\u0442\u0443\u0441"),u.a.createElement(d.ModalBody,null,"\u0421\u0438\u0433\u0443\u0440\u043d\u0438 \u043b\u0438 \u0441\u0442\u0435, \u0447\u0435 \u0438\u0441\u043a\u0430\u0442\u0435 \u0434\u0430 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043d\u0430"," ",u.a.createElement("b",null," ","WORKING_ON"===_?"\u0418\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430 \u0441\u0435":"CREATED"===_?"\u0421\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0430  ":"SEND"===_?"\u0418\u0437\u043f\u0440\u0430\u0442\u0435\u043d\u0430":"DONE"===_?"\u0418\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430":_)),u.a.createElement(d.ModalFooter,null,u.a.createElement("div",{className:"hidden sm:block"},u.a.createElement(d.Button,{onClick:function(){console.log(e),function(){var e=y.find((function(e){return e.id===L}));if(!e)return console.error("Selected order not found"),void X();var t="".concat(J,"/api/orders/").concat(e.id,"/change-status/").concat(_);m.a.post(t,null,{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){console.log(t),window.location.reload()})).catch((function(e){})),X()}()}},"\u041f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043d\u0435")),u.a.createElement("div",{className:"hidden sm:block"},u.a.createElement(d.Button,{layout:"outline",onClick:X},"\u041e\u0442\u043a\u0430\u0437")))),"[ADMIN]"===A.data.role&&u.a.createElement("div",{onClick:function(){return V((function(t){return Object(n.a)(Object(n.a)({},t),{},Object(l.a)({},e.id,!0))}))},style:{cursor:Y[e.id]||"DONE"===e.status?"default":"pointer"}},Y[e.id]?u.a.createElement(d.Select,{value:_,onChange:function(t){return function(e,t){var a=e.target.value;a!==_&&(F(a),H(t.id),W(!0))}(t,e)},onBlur:function(){return V(!1)}},"CREATED"===e.status?u.a.createElement(u.a.Fragment,null,"                            ",u.a.createElement("option",{value:""},"--"),u.a.createElement("option",{value:"WORKING_ON"},"\u0418\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430 \u0441\u0435"),u.a.createElement("option",{value:"SEND"},"\u0418\u0437\u043f\u0440\u0430\u0442\u0435\u043d\u0430"),u.a.createElement("option",{value:"DONE"},"\u0418\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430")):u.a.createElement("option",{value:_},"WORKING_ON"===e.status?"\u0418\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430 \u0441\u0435":"SEND"===e.status?"\u0418\u0437\u043f\u0440\u0430\u0442\u0435\u043d\u0430":"\u0418\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430"),"WORKING_ON"==e.status&&u.a.createElement(u.a.Fragment,null,u.a.createElement("option",{value:"SEND"},"\u0418\u0437\u043f\u0440\u0430\u0442\u0435\u043d\u0430"),u.a.createElement("option",{value:"DONE"},"\u0418\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430")),"SEND"==e.status&&u.a.createElement("option",{value:"DONE"},"\u0418\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430")):u.a.createElement("div",{className:"flex items-center text-sm ".concat(q(e.status))},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},"WORKING_ON"===e.status?"\u0418\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430 \u0441\u0435":"CREATED"===e.status?"\u0421\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0430":"SEND"===e.status?"\u0418\u0437\u043f\u0440\u0430\u0442\u0435\u043d\u0430":"DONE"===e.status?"\u0418\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430":e.status,"                      ","DONE"!==e.status&&u.a.createElement("p",{style:{color:"blue"}},"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u0441\u0442\u0430\u0442\u0443\u0441"))))),"[USER]"===A.data.role&&u.a.createElement("div",{className:"flex items-center text-sm ".concat(q(e.status))},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},"WORKING_ON"===e.status?"\u0418\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430 \u0441\u0435":"CREATED"===e.status?"\u0421\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0430":"SEND"===e.status?"\u0418\u0437\u043f\u0440\u0430\u0442\u0435\u043d\u0430":"DONE"===e.status?"\u0418\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0430":e.status)))),u.a.createElement(d.TableCell,null,u.a.createElement("div",{className:"flex items-center text-sm"},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.user.companyName)))),u.a.createElement(d.TableCell,null,u.a.createElement("div",{className:"flex items-center text-sm"},u.a.createElement("div",null,u.a.createElement("span",{className:"font-semibold"},e.totalPrice),u.a.createElement("span",null,"\u043b\u0432.")))),u.a.createElement(d.TableCell,null,"BY_HAND"===e.type?"\u0420\u044a\u0447\u043d\u043e - \u043e\u0442 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":"\u041e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442"),u.a.createElement(d.TableCell,null,u.a.createElement("div",{className:"flex items-center text-sm"},u.a.createElement("div",null,u.a.createElement("span",{className:"font-semibold"},"0"),u.a.createElement("span",null,"%")))),u.a.createElement(d.TableCell,{className:"w-1/12 text-center"},u.a.createElement(b.b,{to:"orders/".concat(e.id),className:"text-indigo-600 hover:text-indigo-900"},"\u0414\u0435\u0442\u0430\u0439\u043b\u0438")))})))),u.a.createElement(d.TableFooter,null,u.a.createElement(d.Pagination,{totalResults:T,resultsPerPage:t,onChange:function(e){C(e)}}))))}}}]);
//# sourceMappingURL=9.6988724a.chunk.js.map