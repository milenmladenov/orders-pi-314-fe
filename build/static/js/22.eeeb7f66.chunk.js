(this.webpackJsonpreact_admin_dashboard=this.webpackJsonpreact_admin_dashboard||[]).push([[22],{1284:function(e,a,t){"use strict";t.r(a);var n=t(43),r=t(17),s=t(18),l=t(22),o=t(21),c=t(0),m=t.n(c),i=t(1),u=t(10),p=t(57),d=t(54),h=t(16),g=t(58),E=t.n(g),f=(t(134),t(8)),b=(t(40),function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(r.a)(this,t);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={username:"",password:"",email:"",companyAddress:"",communicationName:"",phone:"",companyName:"",bulstat:"",city:"",isDdsRegistered:!1,mol:"",postCode:null,orderAddressList:[],isLoggedIn:!1,isError:!1,errorMessage:""},e.handleInputChange=function(a){var t=a.target,r=t.name,s=t.value;e.setState(Object(n.a)({},r,s))},e.validatePasswords=function(){var a=e.state;a.password!==a["confirm-password"]?e.setState({isError:!0,passwordErrorMessage:"\u041f\u0430\u0440\u043e\u043b\u0438\u0442\u0435 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430\u0442!"}):e.setState({isError:!1,passwordErrorMessage:""})},e.handleSubmit=function(a){a.preventDefault();var t=e.state,n=t.username,r=t.password,s=t.email,l=t.companyAddress,o=t.communicationName,c=t.phone,m=t.companyName,i=t.bulstat,u=t.city,h=t.isDdsRegistered,g=t.mol,E=t.postCode;if(console.log(n,r,s,l,o,c,m,i,u,h,g,E),n&&r&&s&&l&&o&&c&&m&&i&&u&&g&&E)if(r===e.state["confirm-password"]){var f={username:n,password:r,email:s,companyAddress:l,communicationName:o,phone:c,companyName:m,bulstat:i,city:u,mol:g,postCode:E};console.log(f),p.a.signup(f).then((function(a){var t=a.data.accessToken,n={data:Object(d.b)(t),accessToken:t};e.context.userLogin(n),e.setState({username:"",password:"",isLoggedIn:!0,isError:!1,errorMessage:""})})).catch((function(a){if(Object(d.a)(a),a.response&&a.response.data){var t=a.response.data,n="Invalid fields";409===t.status?n=t.message:400===t.status&&(n=t.errors[0].defaultMessage),e.setState({isError:!0,errorMessage:n})}}))}else e.setState({isError:!0,passwordErrorMessage:"\u041f\u0430\u0440\u043e\u043b\u0438\u0442\u0435 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430\u0442!"});else e.setState({isError:!0,errorMessage:"\u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0441\u0438\u0447\u043a\u0438 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0438 \u043f\u043e\u043b\u0435\u0442\u0430 !"})},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.context.userIsAuthenticated();this.setState({isLoggedIn:e})}},{key:"render",value:function(){var e=this.state,a=e.isLoggedIn,t=(e.isError,e.errorMessage),n=e.passwordErrorMessage;return a?m.a.createElement(i.Redirect,{to:"/app"}):m.a.createElement("div",{className:"flex items-center p-6 bg-gray-50 dark:bg-gray-900"},m.a.createElement("div",{className:"flex-1 h-full max-w-6xl mx-auto bg-white rounded-lg shadow-xl dark:bg-gray-800"},m.a.createElement("div",{className:"flex flex-col md:flex-row"},m.a.createElement("div",{className:"h-1 w-auto md:h-auto md:w-1/2 ml-4"},m.a.createElement("img",{"aria-hidden":"true",className:"object-contain h-full  w-full dark:hidden",src:E.a,alt:"Logo"})),m.a.createElement("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2"},m.a.createElement("div",{className:"h-full w-full"},m.a.createElement(h.HelperText,null,"\u041f\u043e\u043b\u0435\u0442\u0430\u0442\u0430 \u043e\u0442\u0431\u0435\u043b\u044f\u0437\u0430\u043d\u0438 \u0441\u044a\u0441 ",m.a.createElement("span",{style:{color:"red"}},"*")," \u0441\u0430 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0438 "),m.a.createElement("hr",{className:"my-8"}),m.a.createElement("div",{className:"input-fields-container"},m.a.createElement("div",{className:"grid grid-cols-1 gap-1"},m.a.createElement("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200"},"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u0438 \u0434\u0430\u043d\u043d\u0438"),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u0418\u043c\u0435"),m.a.createElement(h.Input,{className:"mt-1",name:"communicationName",placeholder:"\u0429\u0435 \u0431\u044a\u0434\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d\u043e \u0437\u0430 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u043d\u0430 \u043a\u043e\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u044f",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435"),m.a.createElement(h.HelperText,{valid:!1}," *"),m.a.createElement(h.Input,{className:"mt-1",name:"username",placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"Email"),m.a.createElement(h.Input,{className:"mt-1",type:"email",placeholder:"example@email.com",name:"email",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u0412\u0430\u0448\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"),m.a.createElement(h.Input,{className:"mt-1",placeholder:"***************",type:"password",name:"password",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u041f\u043e\u0442\u0432\u044a\u0440\u0434\u0435\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430"),m.a.createElement(h.Input,{className:"mt-1",placeholder:"***************",type:"password",name:"confirm-password",onChange:this.handleInputChange})),n,m.a.createElement("hr",{className:"my-8"}),m.a.createElement("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200"},"\u0424\u0438\u0440\u043c\u0435\u043d\u0438/\u041b\u0438\u0447\u043d\u0438 \u0434\u0430\u043d\u043d\u0438"),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u0424\u0438\u0440\u043c\u0430/\u0418\u043c\u0435"),m.a.createElement(h.Input,{className:"mt-1",name:"companyName",placeholder:"",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u0411\u0443\u043b\u0441\u0442\u0430\u0442/\u0415\u0413\u041d"),m.a.createElement(h.Input,{className:"mt-1",name:"bulstat",placeholder:"\u0411\u0443\u043b\u0441\u0442\u0430\u0442/\u0415\u0413\u041d",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u0413\u0440\u0430\u0434"),m.a.createElement(h.Input,{className:"mt-1",name:"city",placeholder:"\u0413\u0440\u0430\u0434",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u041c\u041e\u041b"),m.a.createElement(h.Input,{className:"mt-1",name:"mol",placeholder:"\u041c\u041e\u041b",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434"),m.a.createElement(h.Input,{className:"mt-1",name:"postCode",placeholder:"\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u0410\u0434\u0440\u0435\u0441"),m.a.createElement(h.Textarea,{className:"mt-1",name:"companyAddress",placeholder:"\u0410\u0434\u0440\u0435\u0441",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement("span",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),m.a.createElement(h.Input,{className:"mt-1",name:"phone",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",onChange:this.handleInputChange})),m.a.createElement(h.Label,null,m.a.createElement(h.Input,{type:"checkbox",name:"isDdsRegistered",onChange:this.handleInputChange}),m.a.createElement("span",{className:"ml-2"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0414\u0414\u0421")),m.a.createElement(h.Label,null,m.a.createElement("hr",{className:"my-8"}),m.a.createElement("span",null,"\u0410\u0434\u0440\u0435\u0441 \u0437\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"),m.a.createElement(h.Input,{className:"mt-1",name:"orderAddress",placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0437\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430",onChange:this.handleInputChange}))),m.a.createElement("hr",{className:"my-8"}),m.a.createElement("p",{style:{color:"red"}},t),m.a.createElement(h.Button,{className:"mt-4",block:!0,as:f.b,to:"/",onClick:this.handleSubmit},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),m.a.createElement(f.b,{className:"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline",to:"/"},"\u0418\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b? \u0412\u043b\u0435\u0437\u043d\u0435\u0442\u0435 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0430 \u0441\u0438!"),"                "))))))}}]),t}(c.Component));b.contextType=u.b,a.default=b},134:function(e,a,t){},40:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n={url:{API_BASE_URL:"https://orders-pi314-396621.uc.r.appspot.com"}}},43:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",(function(){return n}))},54:function(e,a,t){"use strict";function n(e){if(e){var a=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(a))}}t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return r}));var r=function(e){e.response?console.log(e.response.data):e.request?console.log(e.request):console.log(e.message)}},57:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t(1296),r=t(40),s=t(54),l={authenticate:function(e,a){return o.post("/auth/authenticate",{username:e,password:a},{headers:{"Content-type":"application/json"}})},signup:function(e){return o.post("/auth/signup",e,{headers:{"Content-type":"application/json"}})},numberOfUsers:function(){return o.get("/public/numberOfUsers")},numberOfOrders:function(){return o.get("/public/numberOfOrders")},getUsers:function(e,a){var t=a?"/api/users/".concat(a):"/api/users";return o.get(t,{headers:{Authorization:c(e)}})},deleteUser:function(e,a){return o.delete("/api/users/".concat(a),{headers:{Authorization:c(e)}})},getOrders:function(e,a){var t=a?"/api/orders?text=".concat(a):"/api/orders";return o.get(t,{headers:{Authorization:c(e)}})},deleteOrder:function(e,a){return o.delete("/api/orders/".concat(a),{headers:{Authorization:c(e)}})},createOrder:function(e,a){return o.post("/api/orders",a,{headers:{"Content-type":"application/json",Authorization:c(e)}})},getUserMe:function(e){return o.get("/api/users/me",{headers:{Authorization:c(e)}})},newOrder:function(e){return console.log(e.accessToken),o.post("api/orders/new-order",{headers:{"Content-type":"application/json",Authorization:c(e)}})}};var o=n.a.create({baseURL:r.a.url.API_BASE_URL});function c(e){return"Bearer ".concat(e.accessToken)}o.interceptors.request.use((function(e){if(e.headers.Authorization){var a=e.headers.Authorization.split(" ")[1],t=Object(s.b)(a);Date.now()>1e3*t.exp&&(window.location.href="/login")}return e}),(function(e){return Promise.reject(e)}))},58:function(e,a,t){e.exports=t.p+"static/media/logo-white-frame.462e304b.png"}}]);
//# sourceMappingURL=22.eeeb7f66.chunk.js.map